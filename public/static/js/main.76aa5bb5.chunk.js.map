{"version":3,"sources":["utils/auth.js","utils/api.js","components/organisms/PublicRoute.js","components/organisms/PrivateRoute.js","components/atoms/EmptyLine.js","components/molecules/PageFooter.js","components/atoms/FontIcon.js","components/molecules/TopNavBar.js","components/organisms/PageWrapper.js","components/atoms/Heading.js","components/atoms/Button.js","components/templates/GetStarted.js","components/pages/HomePage.js","components/molecules/Introduction.js","components/atoms/Alert.js","components/atoms/Paragraph.js","components/molecules/ErrorMessage.js","components/molecules/Loading.js","components/organisms/ServerStatus.js","components/templates/SignInForm.js","components/pages/SignInPage.js","components/templates/RegisterForm.js","components/pages/RegisterPage.js","components/templates/Profile.js","components/pages/ProfilePage.js","components/organisms/InvitesModal.js","components/templates/CoursesTable.js","components/pages/CoursesPage.js","components/templates/ModulesTable.js","components/pages/ModulesPage.js","components/molecules/WelcomeMessage.js","components/molecules/Congratulations.js","components/templates/SectionView.js","components/pages/CoursePage.js","components/molecules/Timer.js","components/templates/ModuleDetail.js","components/pages/SectionPage.js","components/pages/ModulePage.js","components/templates/CourseModification.js","components/organisms/SectionsModal.js","components/templates/CourseContent.js","components/pages/CourseAddingPage.js","components/templates/ModuleModification.js","components/organisms/InfoSegmentsModal.js","components/organisms/TestSegmentsModal.js","components/templates/ModuleContent.js","components/pages/ModuleAddingPage.js","components/templates/CourseStudents.js","components/pages/CourseEditingPage.js","components/templates/ModuleUsers.js","components/pages/ModuleEditingPage.js","components/pages/MyCoursesPage.js","components/pages/MyModulesPage.js","components/templates/Invitation.js","components/pages/InvitesPage.js","AppRoutes.js","components/atoms/ScrollToTop.js","App.js","serviceWorker.js","index.js","img/avatar.png"],"names":["initialState","token","user","profile","AuthContext","createContext","createContextValue","setState","console","error","useAuth","useContext","AuthProvider","children","defaultState","useState","window","localStorage","rawData","getItem","JSON","parse","e","getStorageState","state","setStateRaw","useCallback","newState","setItem","stringify","setStorageState","usePersistedAuth","contextValue","useMemo","Provider","value","signin","signout","removeItem","globalApiInstance","axios","create","baseURL","process","ApiStateContext","ApiProvider","api","useLayoutEffect","defaults","headers","common","useSetAuthorizationHeader","signoutRef","useRef","useEffect","current","signoutInterceptr","interceptors","response","use","status","Promise","reject","request","eject","useInstallSignoutApiInterceptror","PublicRoute","Component","component","rest","auth","render","props","to","pathname","PrivateRoute","EmptyLine","level","number","newLines","i","push","key","PageFooter","year","Date","getFullYear","className","FontIcon","icon","variant","spin","classNames","TopNavBar","isPrivate","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","aria-haspopup","aria-labelledby","onClick","PageWrapper","style","height","Heading","Element","Button","title","size","GetStarted","HomePage","align","width","background","Introduction","Alert","Paragraph","muted","ErrorMessage","Loading","ServerStatus","message","signInSchema","yup","shape","mail","label","email","required","pass","SignInForm","setStatus","setMessage","initialValues","onSubmit","values","actions","post","then","res","data","name","catch","err","authenticate","validationSchema","handleSubmit","onChange","handleChange","onBlur","handleBlur","errors","backgroundColor","placeholder","SignInPage","registerSchema","min","pass2","oneOf","RegisterForm","validate","register","RegisterPage","changePassSchema","old","new","notOneOf","new2","Profile","deleteUser","swal","text","buttons","isConfirm","validatePassword","changePassword","src","avatar","alt","disabled","ProfilePage","InvitesModal","inviteTo","courseName","closeInvite","expiration","setExpiration","closeInviteModal","isOpen","onRequestClose","content","top","left","right","bottom","minWidth","maxHeight","marginRight","transform","overflowY","ariaHideApp","event","target","courseId","inviteLink","location","origin","dummy","document","createElement","body","appendChild","setAttribute","select","execCommand","removeChild","CoursesTable","isEditable","noCoursesMessage","setInviteTo","setCourseName","fetchSignal","setFetchSignal","selected","setSelected","courses","setCourses","fetchUser","fetchCourses","deleteCourses","rows","selectedCourses","columns","selector","sortable","wrap","omit","cell","row","_id","handleInvite","handleRemove","ignoreRowClick","allowOverflow","button","customStyles","headCells","fontSize","cells","highlightOnHover","responsive","pagination","noDataComponent","selectableRows","subHeader","subHeaderAlign","onSelectedRowsChange","selectedRows","clearSelectedRows","contextActions","subHeaderComponent","CoursesPage","ModulesTable","noModulesMessage","modules","setModules","fetchModules","results","forEach","entry","points","length","module","cat","author","limit","timer","deleteModules","selectedModules","ModulesPage","WelcomeMessage","counter","Congratulations","SectionView","course","section","maxPoints","CoursePage","rewards","setRewards","setName","setCounter","allSections","setAllSections","sections","setSections","tokens","coursePoints","courseRewards","courseContent","unlockedSections","progress","find","obj","match","params","unlockPoints","sort","a","b","role","aria-orientation","map","href","aria-selected","rewardPoints","Timer","seconds","day","moment","duration","s","time","startOf","add","format","ModuleDetail","moduleId","addPoints","changeTab","setContent","setType","setLimit","view","setView","setTimer","clock","setClock","formatAnswer","answer","formattedAnswer","toUpperCase","replace","finishModule","contentPoints","rqmt","sType","getElementById","answers","split","slice","checkboxes","getElementsByName","Array","prototype","call","filter","ch","checked","checkboxesHit","includes","callback","delay","savedCallback","setInterval","clearInterval","useInterval","hasFocus","contentToParse","moduleType","parsedContent","iType","question","choices","rnd","j","Math","floor","random","tmp","allParsedContent","parseContent","SectionPage","setPoints","tab","setTab","setSection","index","setIndex","sectionId","rewardMargin","toFixed","minPoints","penalty","finalPoints","ModulePage","newTab","courseInfoSchema","org","CourseModification","setCourse","withAccess","saveCourseInfo","enableReinitialize","sectionSchema","SectionsModal","closeModal","defaultSection","defaultModules","modulePoints","setModulePoints","allModules","setAllModules","closeSectionModal","isExit","addModule","updatedModules","updateModule","updatedPoints","dataModules","parsedModules","dataModulesPoints","totalPoints","parsedModule","_name","moduleIndex","indexOf","moduleIds","arr","item","newRewardMargin","newSection","saveSection","max","splice","removeModule","tmpModule","moveDown","moveUp","CourseContent","setSectionId","removeSections","selectedSections","handleEdit","CourseAddingPage","moduleInfoSchema","ModuleModification","setModule","saveModuleInfo","InfoSegmentsModal","segmentId","defaultSegment","segment","setSegment","segmentData","setSegmentData","closeSegmentModal","newSegment","saveSegment","editor","getData","TestSegmentsModal","segmentQuestion","setSegmentQuestion","segmentChoices","setSegmentChoices","segmentAnswers","setSegmentAnswers","addChoice","updatedChoices","updateChoice","updatedAnswers","answerIndex","multiData","multiRqmt","multiQuestion","multiChoices","multiAnswers","segmentContent","seg","updateAnswers","isChecked","updateAnswer","segmentIndex","removeChoice","ModuleContent","setSegmentId","segmentType","setSegmentType","segments","setSegments","removeSegments","selectedSegments","updateSegmentsOrder","currentPos","ModuleAddingPage","CourseStudents","student","setStudent","students","setStudents","access","users","removeUsers","selectedUsers","CourseEditingPage","ModuleUsers","setUser","setUsers","result","ModuleEditingPage","MyCoursesPage","MyModulesPage","Invitation","link","invite","setInvite","redirect","setRedirect","InvitesPage","AppRoutes","path","exact","ScrollToTop","withRouter","scrollTo","require","config","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","exports"],"mappings":"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","file":"static/js/main.76aa5bb5.chunk.js","sourcesContent":["import React, {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useState\r\n} from \"react\";\r\n\r\nconst LOCAL_STORAGE_AUTH_KEY = \"dp-auth\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  user: null,\r\n  profile: null\r\n};\r\n\r\nconst AuthContext = createContext(\r\n  createContextValue({\r\n    token: initialState.token,\r\n    user: initialState.user,\r\n    profile: initialState.profile,\r\n    setState: () =>\r\n      console.error(\"You are using AuthContext without AuthProvider!\")\r\n  })\r\n);\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [state, setState] = usePersistedAuth(initialState);\r\n\r\n  const contextValue = useMemo(() => {\r\n    const { token, user, profile } = state;\r\n    return createContextValue({ token, user, profile, setState });\r\n  }, [state, setState]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\r\n  );\r\n}\r\n\r\nfunction createContextValue({ token, user, profile, setState }) {\r\n  return {\r\n    token,\r\n    user,\r\n    profile,\r\n    signin: ({ token, user, profile }) => setState({ token, user, profile }),\r\n    signout: () =>\r\n      setState({ token: null, user: null, profile: null }) &\r\n      localStorage.removeItem(LOCAL_STORAGE_AUTH_KEY)\r\n  };\r\n}\r\n\r\nfunction usePersistedAuth(defaultState) {\r\n  const [state, setStateRaw] = useState(() => getStorageState(defaultState));\r\n\r\n  const setState = useCallback(newState => {\r\n    setStateRaw(newState);\r\n    setStorageState(newState);\r\n  }, []);\r\n\r\n  return [state, setState];\r\n}\r\n\r\nfunction getStorageState(defaultState) {\r\n  if (!window.localStorage) {\r\n    return defaultState;\r\n  }\r\n\r\n  const rawData = window.localStorage.getItem(LOCAL_STORAGE_AUTH_KEY);\r\n  if (!rawData) {\r\n    return defaultState;\r\n  }\r\n\r\n  try {\r\n    const { token, user, profile } = JSON.parse(rawData);\r\n\r\n    if (token && user && profile) {\r\n      return { token, user, profile };\r\n    }\r\n  } catch (e) {}\r\n\r\n  return defaultState;\r\n}\r\n\r\nfunction setStorageState(newState) {\r\n  if (!window.localStorage) {\r\n    return;\r\n  }\r\n\r\n  window.localStorage.setItem(LOCAL_STORAGE_AUTH_KEY, JSON.stringify(newState));\r\n}\r\n","import React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef\r\n} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { useAuth } from \"./auth\";\r\n\r\nexport const globalApiInstance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_API\r\n});\r\n\r\nconst ApiStateContext = createContext(globalApiInstance);\r\n\r\nexport function useApi() {\r\n  return useContext(ApiStateContext);\r\n}\r\n\r\nexport function ApiProvider({ children }) {\r\n  const api = globalApiInstance;\r\n\r\n  useSetAuthorizationHeader(api);\r\n  useInstallSignoutApiInterceptror(api);\r\n\r\n  return (\r\n    <ApiStateContext.Provider value={api}>{children}</ApiStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useSetAuthorizationHeader(api) {\r\n  const { token } = useAuth();\r\n\r\n  useLayoutEffect(() => {\r\n    if (!token) {\r\n      delete api.defaults.headers.common[\"Authorization\"];\r\n    } else {\r\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n  }, [token, api]);\r\n}\r\n\r\nfunction useInstallSignoutApiInterceptror(api) {\r\n  const { signout } = useAuth();\r\n  const signoutRef = useRef(signout);\r\n\r\n  useEffect(() => {\r\n    signoutRef.current = signout;\r\n  }, [signout]);\r\n\r\n  useEffect(() => {\r\n    const signoutInterceptr = api.interceptors.response.use(\r\n      response => response,\r\n      error => {\r\n        const isInvalidTokenResponse =\r\n          error && error.response && error.response.status === 401;\r\n\r\n        if (isInvalidTokenResponse && signoutRef.current) {\r\n          signoutRef.current();\r\n        }\r\n\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      api.interceptors.request.eject(signoutInterceptr);\r\n    };\r\n  }, [api]);\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\n\r\nexport function PublicRoute({ component: Component, ...rest }) {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        auth.token ? (\r\n          <Redirect to={{ pathname: \"/\" }} />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\n\r\nexport function PrivateRoute({ component: Component, ...rest }) {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        auth.token ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/sign-in\" }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const EmptyLine = ({ level, ...rest }) => {\r\n  let number = level;\r\n  let newLines = [];\r\n\r\n  for (let i = 0; i < number; ++i) {\r\n    newLines.push(<br key={i} />);\r\n  }\r\n\r\n  return <div>{newLines}</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport const PageFooter = () => {\r\n  const year = new Date().getFullYear();\r\n\r\n  return (\r\n    <div>\r\n      <EmptyLine level=\"4\" />\r\n      <footer className=\"page-footer font-small bg-dark fixed-bottom border-top-0\">\r\n        <div className=\"footer-copyright text-center py-3\">\r\n          <b className=\"text-white\">Copyright &copy; {year}</b>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nimport \"@fortawesome/fontawesome-free/css/all.css\";\r\n\r\nexport const FontIcon = ({ icon, variant, spin, className, ...rest }) => (\r\n  <i\r\n    className={classNames(\r\n      `fa${variant || \"s\"}`,\r\n      `fa-${icon}`,\r\n      { \"fa-spin\": spin },\r\n      className\r\n    )}\r\n    {...rest}\r\n  />\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Offline, Online } from \"react-detect-offline\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport const TopNavBar = ({ isPrivate }) => {\r\n  const auth = useAuth();\r\n\r\n  function clearSignOut() {\r\n    auth.signout();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-sm navbar-light bg-light fixed-top shadow\">\r\n        <Link className=\"navbar-brand\" to={\"/\"}>\r\n          <FontIcon icon=\"graduation-cap\" />\r\n          <b> E-MAKE</b>\r\n        </Link>\r\n        {isPrivate ? (\r\n          <>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarNavDp\"\r\n              aria-controls=\"navbarNavDp\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNavDp\">\r\n              <ul className=\"navbar-nav mr-auto\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/\"}>\r\n                    <b>Get Started</b>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/modules\"}>\r\n                    <b>Modules</b>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to={\"/courses\"}>\r\n                    <b>Courses</b>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n              <Online>\r\n                <FontIcon icon=\"signal text-success\" />\r\n              </Online>\r\n              <Offline>\r\n                <FontIcon icon=\"times text-danger\" />\r\n              </Offline>\r\n              <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item dropdown\">\r\n                  <Link\r\n                    to=\"\"\r\n                    className=\"nav-link dropdown-toggle\"\r\n                    id=\"navbarDropdownMenuLink\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    <b>{auth.profile}</b>\r\n                  </Link>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"navbarDropdownMenuLink\"\r\n                  >\r\n                    <Link className=\"dropdown-item\" to={\"/profile\"}>\r\n                      My profile\r\n                    </Link>\r\n                    <Link className=\"dropdown-item\" to={\"/my-modules\"}>\r\n                      My modules\r\n                    </Link>\r\n                    <Link className=\"dropdown-item\" to={\"/my-courses\"}>\r\n                      My courses\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n              <Link to={\"/\"} onClick={clearSignOut}>\r\n                <FontIcon icon=\"sign-out-alt\" />\r\n                <b>Sign out</b>\r\n              </Link>\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </nav>\r\n      <EmptyLine level=\"4\" />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\n\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { PageFooter } from \"../molecules/PageFooter\";\r\nimport { TopNavBar } from \"../molecules/TopNavBar\";\r\n\r\nexport function PageWrapper({ children, isPrivate }) {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <div style={{ height: \"100%\" }}>\r\n      <TopNavBar isPrivate={auth.token} />\r\n      <EmptyLine level=\"1\" />\r\n      {children}\r\n      <EmptyLine level=\"1\" />\r\n      <PageFooter />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Heading = ({ level, ...rest }) => {\r\n  const Element = `h${level || \"1\"}`;\r\n\r\n  return <Element {...rest} />;\r\n};\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport const Button = ({\r\n  title,\r\n  type = \"button\",\r\n  variant = \"primary\",\r\n  size,\r\n  className,\r\n  children,\r\n  ...rest\r\n}) => (\r\n  <button\r\n    className={classNames(\r\n      \"btn\",\r\n      `btn-${variant}`,\r\n      size ? `btn-${size}` : null,\r\n      className\r\n    )}\r\n    type={type}\r\n    {...rest}\r\n  >\r\n    {title ? title : children}\r\n  </button>\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport function GetStarted() {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col mb-4\">\r\n          <FontIcon icon=\"file-alt\" className=\"fa-5x text-warning\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"4\">View Modules</Heading>\r\n          <EmptyLine />\r\n          <p className=\"mt-3\">\r\n            View all the modules you have been given access to.\r\n          </p>\r\n          <Link to={\"/modules\"}>\r\n            <Button variant=\"warning\" className=\"mt-2 text-white\">\r\n              <b>Continue</b>\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col mb-4\">\r\n          <FontIcon icon=\"book\" className=\"fa-5x text-danger\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"4\">Enter Courses</Heading>\r\n          <EmptyLine />\r\n          <p className=\"mt-3\">\r\n            Enter any course you have been given access to.\r\n          </p>\r\n          <Link to={\"/courses\"}>\r\n            <Button variant=\"danger\" className=\"mt-2 text-white\">\r\n              <b>Continue</b>\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col mb-4\">\r\n          <FontIcon icon=\"id-badge\" className=\"fa-5x text-secondary\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"4\">Edit Profile</Heading>\r\n          <EmptyLine />\r\n          <p className=\"mt-3\">View and manage your profile information.</p>\r\n          <Link to={\"/profile\"}>\r\n            <Button variant=\"secondary\" className=\"mt-2 text-white\">\r\n              <b>Continue</b>\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col mb-4\">\r\n          <FontIcon icon=\"file-medical\" className=\"fa-5x text-info\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"4\">Manage Modules</Heading>\r\n          <EmptyLine />\r\n          <p className=\"mt-3\">\r\n            Create, edit, delete or give access to your modules.\r\n          </p>\r\n          <Link to={\"/my-modules\"}>\r\n            <Button variant=\"info\" className=\"mt-2 text-white\">\r\n              <b>Continue</b>\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col mb-4\">\r\n          <FontIcon icon=\"book-medical\" className=\"fa-5x text-success\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"4\">Manage Courses</Heading>\r\n          <EmptyLine />\r\n          <p className=\"mt-3\">\r\n            Create, edit, delete or give access to your courses.\r\n          </p>\r\n          <Link to={\"/my-courses\"}>\r\n            <Button variant=\"success\" className=\"mt-2 text-white\">\r\n              <b>Continue</b>\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { GetStarted } from \"../templates/GetStarted\";\r\n\r\nexport function HomePage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">GET STARTED</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      <p className=\"mb-5\">\r\n        This page is meant to show you what you can do with <b>E-MAKE</b>.\r\n      </p>\r\n      <hr style={{ width: \"600px\", background: \"black\" }} />\r\n      <EmptyLine level=\"2\" />\r\n      <GetStarted />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport function Introduction() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">\r\n        <FontIcon icon=\"graduation-cap\" /> E-MAKE\r\n      </Heading>\r\n      <EmptyLine level=\"2\" />\r\n      <Heading level=\"2\">Welcome to E-MAKE</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <div align=\"center\" className=\"mb-2\">\r\n        <p className=\"mt-2 mb-2\">\r\n          <b>With this application, you can quickly and easily:</b>\r\n        </p>\r\n        <li>Create and manage your own online e-learning courses</li>\r\n        <li>Invite other users to your courses and watch their progress</li>\r\n        <li>Take online e-learning courses created by other users</li>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport const Alert = ({ className, variant, ...rest }) => (\r\n  <div\r\n    className={classNames(\"alert\", `alert-${variant || \"danger\"}`, className)}\r\n    {...rest}\r\n  />\r\n);\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport const Paragraph = ({ muted, className, ...rest }) => (\r\n  <p className={classNames({ \"text-muted\": muted }, className)} {...rest} />\r\n);\r\n","import React from \"react\";\r\n\r\nimport { Alert } from \"../atoms/Alert\";\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Paragraph } from \"../atoms/Paragraph\";\r\n\r\nexport const ErrorMessage = ({ title, error, variant }) => (\r\n  <Alert variant={variant}>\r\n    <Heading level=\"2\">{title || \"\"}</Heading>\r\n    <Paragraph>{`${error || \"\"}`}</Paragraph>\r\n  </Alert>\r\n);\r\n","import React from \"react\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\n\r\nexport const Loading = () => (\r\n  <div className=\"text-center h1 text-muted p-5\">\r\n    <FontIcon icon=\"sync-alt\" spin />\r\n  </div>\r\n);\r\n","import React from \"react\";\r\n\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { Loading } from \"../molecules/Loading\";\r\n\r\nexport const ServerStatus = ({ status, message }) => (\r\n  <div align=\"center\">\r\n    {status === \"loading\" ? (\r\n      <Loading />\r\n    ) : status === \"error\" ? (\r\n      <ErrorMessage error={message} />\r\n    ) : status === \"success\" && message ? (\r\n      <ErrorMessage variant=\"success\" error={message} />\r\n    ) : null}\r\n  </div>\r\n);\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport const signInSchema = yup.object().shape({\r\n  mail: yup.string().label(\"E-mail\").email().required(),\r\n  pass: yup.string().label(\"Password\").required(),\r\n});\r\n\r\nexport function SignInForm() {\r\n  const [status, setStatus] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const auth = useAuth();\r\n\r\n  function authenticate(values) {\r\n    setStatus(\"loading\");\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/getUser\", {\r\n        mail: values.mail,\r\n        pass: values.pass,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          setStatus(\"idle\");\r\n          auth.signin({\r\n            token: res.data.data.token,\r\n            user: values.mail,\r\n            profile: res.data.data.name,\r\n          });\r\n        } else {\r\n          setStatus(\"error\");\r\n          setMessage(\"Incorrect e-mail or password\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Formik\r\n        initialValues={{ mail: \"\", pass: \"\" }}\r\n        onSubmit={(values, actions) => {\r\n          authenticate(values);\r\n        }}\r\n        validationSchema={signInSchema}\r\n      >\r\n        {(props) => (\r\n          <form onSubmit={props.handleSubmit}>\r\n            <EmptyLine level=\"1\" />\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.mail}\r\n                style={\r\n                  props.errors.mail\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"e-mail\"\r\n                name=\"mail\"\r\n              />\r\n              {props.errors.mail && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.mail}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                type=\"password\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.pass}\r\n                style={\r\n                  props.errors.pass\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"password\"\r\n                name=\"pass\"\r\n              />\r\n              {props.errors.pass && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.pass}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <EmptyLine level=\"2\" />\r\n            <Button\r\n              className={\"btn btn-success mr-2\"}\r\n              style={{ width: \"150px\" }}\r\n              type=\"submit\"\r\n            >\r\n              <b>Login</b>\r\n            </Button>\r\n            <Link to=\"/register\">\r\n              <Button\r\n                className={\"btn btn-primary\"}\r\n                style={{ width: \"150px\" }}\r\n                type=\"button\"\r\n              >\r\n                <b>Register</b>\r\n              </Button>\r\n            </Link>\r\n            <EmptyLine level=\"2\" />\r\n          </form>\r\n        )}\r\n      </Formik>\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { Introduction } from \"../molecules/Introduction\";\r\nimport { SignInForm } from \"../templates/SignInForm\";\r\n\r\nexport function SignInPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Introduction />\r\n      <EmptyLine level=\"1\" />\r\n      <hr style={{ width: \"400px\", background: \"black\" }} />\r\n      <EmptyLine level=\"1\" />\r\n      <Heading level=\"2\">Sign in to proceed</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <SignInForm />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport const registerSchema = yup.object().shape({\r\n  mail: yup.string().label(\"E-mail\").email().required(),\r\n  name: yup.string().label(\"Name\").required(),\r\n  pass: yup\r\n    .string()\r\n    .label(\"Password\")\r\n    .required()\r\n    .min(3, \"Password should contain at least 3 characters\"),\r\n  pass2: yup\r\n    .string()\r\n    .label(\"Password confirmation\")\r\n    .required()\r\n    .oneOf([yup.ref(\"pass\"), null], \"Passwords must match\"),\r\n});\r\n\r\nexport function RegisterForm() {\r\n  const [status, setStatus] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  // TODO: Add proper e-mail existence verification, activation,\r\n  // password change, FB and Google registration.\r\n\r\n  function register(values) {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/createNewUser\", {\r\n        mail: values.mail,\r\n        name: values.name,\r\n        pass: values.pass,\r\n      })\r\n      .then((res) => {\r\n        setStatus(\"success\");\r\n        setMessage(\"Registration complete, you can sign in now\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  function validate(values) {\r\n    setStatus(\"loading\");\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/getUserMail\", {\r\n        mail: values.mail,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          setStatus(\"error\");\r\n          setMessage(\"E-mail is already in use, try again\");\r\n        } else {\r\n          register(values);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Formik\r\n        initialValues={{ mail: \"\", pass: \"\", pass2: \"\" }}\r\n        onSubmit={(values, actions) => {\r\n          validate(values);\r\n        }}\r\n        validationSchema={registerSchema}\r\n      >\r\n        {(props) => (\r\n          <form onSubmit={props.handleSubmit}>\r\n            <EmptyLine level=\"1\" />\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.mail}\r\n                style={\r\n                  props.errors.mail\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"e-mail\"\r\n                name=\"mail\"\r\n              />\r\n              {props.errors.mail && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.mail}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.name}\r\n                style={\r\n                  props.errors.name\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"name\"\r\n                name=\"name\"\r\n              />\r\n              {props.errors.name && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.name}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                type=\"password\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.pass}\r\n                style={\r\n                  props.errors.pass\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"password\"\r\n                name=\"pass\"\r\n              />\r\n              {props.errors.pass && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.pass}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                type=\"password\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.pass2}\r\n                style={\r\n                  props.errors.pass2\r\n                    ? { width: \"300px\", backgroundColor: \"rgba(255,0,0,0.2)\" }\r\n                    : { width: \"300px\" }\r\n                }\r\n                placeholder=\"confirm password\"\r\n                name=\"pass2\"\r\n              />\r\n              {props.errors.pass2 && (\r\n                <>\r\n                  <br />\r\n                  <b className=\"text-danger\">{props.errors.pass2}</b>\r\n                </>\r\n              )}\r\n            </div>\r\n            <EmptyLine level=\"2\" />\r\n            <Button\r\n              className={\"btn btn-success mr-2\"}\r\n              style={{ width: \"150px\" }}\r\n              type=\"submit\"\r\n            >\r\n              <b>Submit</b>\r\n            </Button>\r\n            <Link to=\"/sign-in\">\r\n              <Button\r\n                className={\"btn btn-primary\"}\r\n                style={{ width: \"150px\" }}\r\n                type=\"button\"\r\n              >\r\n                <b>Sign in</b>\r\n              </Button>\r\n            </Link>\r\n            <EmptyLine level=\"2\" />\r\n          </form>\r\n        )}\r\n      </Formik>\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { Introduction } from \"../molecules/Introduction\";\r\nimport { RegisterForm } from \"../templates/RegisterForm\";\r\n\r\nexport function RegisterPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Introduction />\r\n      <EmptyLine level=\"1\" />\r\n      <hr style={{ width: \"400px\", background: \"black\" }} />\r\n      <EmptyLine level=\"1\" />\r\n      <Heading level=\"2\">Create your account</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <RegisterForm />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport swal from \"sweetalert\";\r\nimport * as yup from \"yup\";\r\n\r\nimport avatar from \"../../img/avatar.png\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport const changePassSchema = yup.object().shape({\r\n  old: yup.string().label(\"Old password (current one)\").required(),\r\n  new: yup\r\n    .string()\r\n    .label(\"New password\")\r\n    .required()\r\n    .notOneOf(\r\n      [yup.ref(\"old\"), null],\r\n      \"New password is the same as old password\"\r\n    )\r\n    .min(3, \"New password should contain at least 3 characters\"),\r\n  new2: yup\r\n    .string()\r\n    .label(\"Password confirmation\")\r\n    .required()\r\n    .oneOf([yup.ref(\"new\"), null], \"Passwords must match\"),\r\n});\r\n\r\nexport function Profile() {\r\n  const [status, setStatus] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const auth = useAuth();\r\n\r\n  // TODO: Add more info and profile picture settings.\r\n\r\n  function deleteUser() {\r\n    swal({\r\n      title: \"Do you want to delete this account?\",\r\n      text: \"You are about to delete your account. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        setStatus(\"loading\");\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"users/deleteUser\", {\r\n            mail: auth.user,\r\n            token: auth.token,\r\n          })\r\n          .then((res) => {\r\n            auth.signout();\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      }\r\n    });\r\n    return 0;\r\n  }\r\n\r\n  function changePassword(values) {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/changePassword\", {\r\n        mail: auth.user,\r\n        token: auth.token,\r\n        pass: values.new,\r\n      })\r\n      .then((res) => {\r\n        setStatus(\"success\");\r\n        setMessage(\"Password was successfully changed\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  function validatePassword(values) {\r\n    setStatus(\"loading\");\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/getUserToken\", {\r\n        mail: auth.user,\r\n        pass: values.old,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          changePassword(values);\r\n        } else {\r\n          setStatus(\"error\");\r\n          setMessage(\"Old password is incorrect\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n\r\n    return 0;\r\n  }\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Formik\r\n        initialValues={{\r\n          user: auth.user,\r\n          profile: auth.profile,\r\n          old: \"\",\r\n          new: \"\",\r\n          new2: \"\",\r\n        }}\r\n        onSubmit={(values, actions) => {\r\n          validatePassword(values);\r\n        }}\r\n        validationSchema={changePassSchema}\r\n      >\r\n        {(props) => (\r\n          <form onSubmit={props.handleSubmit}>\r\n            <div className=\"container\">\r\n              <div className=\"row justify-content-center\">\r\n                <div className=\"col-auto my-auto text-left\">\r\n                  <img src={avatar} alt=\"avatar\" height=\"215px\" />\r\n                </div>\r\n                <div className=\"col-auto my-auto\">\r\n                  <div className=\"row mb-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.user}\r\n                      style={{ width: \"200px\" }}\r\n                      name=\"user\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                  <div className=\"row mb-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.profile}\r\n                      style={{ width: \"200px\" }}\r\n                      name=\"profile\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <input\r\n                      type=\"password\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.old}\r\n                      style={\r\n                        props.errors.old\r\n                          ? {\r\n                              width: \"200px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"200px\" }\r\n                      }\r\n                      placeholder=\"old password\"\r\n                      name=\"old\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"row mb-3\" style={{ width: \"200px\" }}>\r\n                    {props.errors.old && (\r\n                      <b className=\"text-danger\">{props.errors.old}</b>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <input\r\n                      type=\"password\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.new}\r\n                      style={\r\n                        props.errors.new\r\n                          ? {\r\n                              width: \"200px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"200px\" }\r\n                      }\r\n                      placeholder=\"new password\"\r\n                      name=\"new\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"row mb-3\" style={{ width: \"200px\" }}>\r\n                    {props.errors.new && (\r\n                      <b className=\"text-danger\">{props.errors.new}</b>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <input\r\n                      type=\"password\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.new2}\r\n                      style={\r\n                        props.errors.new2\r\n                          ? {\r\n                              width: \"200px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"200px\" }\r\n                      }\r\n                      placeholder=\"confirm new password\"\r\n                      name=\"new2\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"row\" style={{ width: \"200px\" }}>\r\n                    {props.errors.new2 && (\r\n                      <b className=\"text-danger\">{props.errors.new2}</b>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <EmptyLine level=\"2\" />\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <Button\r\n                    className={\"btn btn-danger ml-3\"}\r\n                    style={{ width: \"200px\" }}\r\n                    type=\"button\"\r\n                    onClick={deleteUser}\r\n                  >\r\n                    <b>Delete account</b>\r\n                  </Button>\r\n                  <Button\r\n                    className={\"btn btn-success ml-3\"}\r\n                    style={{ width: \"200px\" }}\r\n                    type=\"submit\"\r\n                  >\r\n                    <b>Change password</b>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <EmptyLine level=\"1\" />\r\n          </form>\r\n        )}\r\n      </Formik>\r\n      <br />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { Profile } from \"../templates/Profile\";\r\n\r\nexport function ProfilePage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">MY PROFILE</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      <Profile />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { Loading } from \"../molecules/Loading\";\r\n\r\nexport function InvitesModal({ inviteTo, courseName, closeInvite }) {\r\n  const [status, setStatus] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [expiration, setExpiration] = useState(\"20\");\r\n\r\n  const closeInviteModal = () => {\r\n    setStatus(null);\r\n    setMessage(null);\r\n    setExpiration(\"20\");\r\n    closeInvite();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setExpiration(event.target.value);\r\n  };\r\n\r\n  const generateLink = () => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"invites/createNewInviteLink\", {\r\n        courseName: courseName,\r\n        courseId: inviteTo,\r\n        expiration: expiration,\r\n      })\r\n      .then((res) => {\r\n        const baseUrl = window.location.origin + \"/invites/\";\r\n        const inviteLink = baseUrl + res.data.data;\r\n\r\n        setStatus(\"success\");\r\n        setMessage(inviteLink);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    const dummy = document.createElement(\"input\");\r\n    document.body.appendChild(dummy);\r\n\r\n    dummy.setAttribute(\"value\", message);\r\n    dummy.select();\r\n\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(dummy);\r\n  };\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      minWidth: \"800px\",\r\n      maxHeight: \"calc(100vh - 100px)\",\r\n      marginRight: \"-50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      overflowY: \"auto\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={inviteTo != null}\r\n      onRequestClose={closeInviteModal}\r\n      style={customStyles}\r\n      ariaHideApp={false}\r\n    >\r\n      <div align=\"center\">\r\n        <Heading level=\"2\">CREATE INVITE LINK</Heading>\r\n        <EmptyLine level=\"2\" />\r\n        {status !== \"success\" ? (\r\n          <div>\r\n            <b>Invite other people to following course:</b>\r\n            <EmptyLine level=\"1\" />\r\n            <input\r\n              type=\"text\"\r\n              value={courseName}\r\n              style={{ width: \"300px\", height: \"30px\" }}\r\n              disabled\r\n            />\r\n            <EmptyLine level=\"2\" />\r\n            <b>Select expiration time of invite link:</b>\r\n            <EmptyLine level=\"1\" />\r\n            <select\r\n              value={expiration}\r\n              style={{ width: \"300px\", height: \"30px\" }}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"20\">20 minutes</option>\r\n              <option value=\"60\">1 hour</option>\r\n              <option value=\"1440\">1 day</option>\r\n              <option value=\"4320\">3 days</option>\r\n              <option value=\"10080\">1 week</option>\r\n            </select>\r\n            <EmptyLine level=\"1\" />\r\n          </div>\r\n        ) : (\r\n          <b>Following invite link has been successfully generated:</b>\r\n        )}\r\n        <EmptyLine level=\"1\" />\r\n        {status === \"loading\" ? (\r\n          <Loading />\r\n        ) : status === \"error\" ? (\r\n          <ErrorMessage error={message} />\r\n        ) : status === \"success\" ? (\r\n          <p>{message}</p>\r\n        ) : null}\r\n        <EmptyLine level=\"2\" />\r\n        {status !== \"success\" ? (\r\n          <Button\r\n            className={\"btn btn-success ml-2 mr-2\"}\r\n            style={{ width: \"150px\" }}\r\n            type=\"submit\"\r\n            onClick={generateLink}\r\n          >\r\n            <b>Next</b>\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            className={\"btn btn-info ml-2 mr-2\"}\r\n            style={{ width: \"150px\" }}\r\n            type=\"button\"\r\n            onClick={copyToClipboard}\r\n          >\r\n            <b>Copy</b>\r\n          </Button>\r\n        )}\r\n        <Button\r\n          className={\"btn btn-secondary ml-2 mr-2\"}\r\n          style={{ width: \"150px\" }}\r\n          type=\"button\"\r\n          onClick={closeInviteModal}\r\n        >\r\n          <b>Close</b>\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { Link } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\nimport { InvitesModal } from \"../organisms/InvitesModal\";\r\n\r\nexport function CoursesTable({ isEditable, noCoursesMessage }) {\r\n  const [inviteTo, setInviteTo] = useState(null);\r\n  const [courseName, setCourseName] = useState(\"\");\r\n\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [courses, setCourses] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n  const fetchUser = isEditable ? auth.user : auth.token;\r\n  const fetchCourses = isEditable\r\n    ? \"courses/getMyCourses\"\r\n    : \"courses/getAccessibleCourses\";\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + fetchCourses, {\r\n        user: fetchUser,\r\n      })\r\n      .then((res) => {\r\n        setCourses(res.data.data);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [fetchSignal, fetchCourses, fetchUser]);\r\n\r\n  const deleteCourses = (rows) => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/deleteCourses\", {\r\n        selectedCourses: rows,\r\n      })\r\n      .then((res) => {\r\n        setMessage(\"Course(s) successfully deleted\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleInvite = (row) => {\r\n    setStatus(\"idle\");\r\n    setInviteTo(row._id);\r\n    setCourseName(row.name);\r\n  };\r\n\r\n  const closeInvite = () => {\r\n    setInviteTo(null);\r\n  };\r\n\r\n  const handleRemove = (row) => {\r\n    swal({\r\n      title: \"Do you want to delete this course?\",\r\n      text: \"You are about to delete this course. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        deleteCourses([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to delete selection?\",\r\n      text: \"You are about to delete these courses. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        deleteCourses(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"From\",\r\n      selector: \"org\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Category\",\r\n      selector: \"cat\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Level\",\r\n      selector: \"level\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Duration\",\r\n      selector: \"length\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Author\",\r\n      selector: \"author\",\r\n      sortable: true,\r\n      omit: isEditable,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Status\",\r\n      selector: \"status\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <div className=\"row\">\r\n          {isEditable ? (\r\n            <div>\r\n              <Button\r\n                variant=\"success\"\r\n                className=\"ml-1 mr-1\"\r\n                onClick={(e) => handleInvite(row)}\r\n              >\r\n                <FontIcon icon=\"user-plus\" />\r\n              </Button>\r\n              <Link to={{ pathname: `/edit-course/${row._id}` }}>\r\n                <Button variant=\"primary\" className=\"ml-1 mr-1\">\r\n                  <FontIcon icon=\"edit\" />\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                variant=\"danger\"\r\n                className=\"ml-1 mr-1\"\r\n                onClick={(e) => handleRemove(row)}\r\n              >\r\n                <FontIcon icon=\"trash-alt\" />\r\n              </Button>\r\n            </div>\r\n          ) : row.status === \"Active\" ? (\r\n            <Link to={{ pathname: `/enter-course/${row._id}` }}>\r\n              <Button variant=\"info\" className=\"ml-1 mr-1\">\r\n                <FontIcon icon=\"book-open\" />\r\n              </Button>\r\n            </Link>\r\n          ) : (\r\n            <Button variant=\"info\" disabled className=\"ml-1 mr-1\">\r\n              <FontIcon icon=\"book-dead\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: isEditable ? \"200px\" : \"100px\",\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={courses}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={noCoursesMessage}\r\n          selectableRows={isEditable}\r\n          subHeader={isEditable}\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={(state) => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"trash-alt\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <Link to=\"/add-course\">\r\n              <Button variant=\"warning\" className=\"mr-3\">\r\n                <FontIcon icon=\"plus\" />\r\n                <b> New course</b>\r\n              </Button>\r\n            </Link>\r\n          }\r\n        />\r\n      </div>\r\n      <InvitesModal\r\n        inviteTo={inviteTo}\r\n        courseName={courseName}\r\n        closeInvite={closeInvite}\r\n      />\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { CoursesTable } from \"../templates/CoursesTable\";\r\n\r\nexport function CoursesPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">ALL COURSES</Heading>\r\n      <br />\r\n      <CoursesTable\r\n        isEditable={false}\r\n        noCoursesMessage=\"You have access to 0 courses\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { Link } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport function ModulesTable({ isEditable, noModulesMessage }) {\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [modules, setModules] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n  const fetchUser = isEditable ? auth.user : auth.token;\r\n  const fetchModules = isEditable\r\n    ? \"modules/getMyModules\"\r\n    : \"modules/getAccessibleModules\";\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + fetchModules, {\r\n        user: fetchUser,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          let results = [];\r\n\r\n          res.data.data.forEach(function (entry) {\r\n            let points = 0;\r\n\r\n            if (entry.content && entry.content.length > 0) {\r\n              entry.content.forEach(function (entry) {\r\n                points += entry.points;\r\n              });\r\n            }\r\n\r\n            let module = {\r\n              _id: entry._id,\r\n              name: entry.name,\r\n              cat: entry.cat,\r\n              type: entry.type,\r\n              author: entry.author,\r\n              limit: entry.limit,\r\n              timer: entry.timer,\r\n              points: points,\r\n            };\r\n            results.push(module);\r\n          });\r\n\r\n          setModules(results);\r\n          setStatus(\"success\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [fetchSignal, fetchModules, fetchUser]);\r\n\r\n  const deleteModules = (rows) => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/deleteModules\", {\r\n        selectedModules: rows,\r\n      })\r\n      .then((res) => {\r\n        setMessage(\"Module(s) successfully deleted\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (row) => {\r\n    swal({\r\n      title: \"Do you want to delete this module?\",\r\n      text: \"You are about to delete this module. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        deleteModules([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to delete selection?\",\r\n      text: \"You are about to delete these modules. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        deleteModules(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Category\",\r\n      selector: \"cat\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Type\",\r\n      selector: \"type\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Max points\",\r\n      selector: \"points\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Author\",\r\n      selector: \"author\",\r\n      sortable: true,\r\n      omit: isEditable,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Time limit\",\r\n      selector: \"limit\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Timer\",\r\n      selector: \"timer\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <div className=\"row\">\r\n          {isEditable ? (\r\n            <div>\r\n              <Link to={{ pathname: `/edit-module/${row._id}` }}>\r\n                <Button variant=\"primary\" className=\"ml-1 mr-1\">\r\n                  <FontIcon icon=\"edit\" />\r\n                </Button>\r\n              </Link>\r\n              <Button\r\n                variant=\"danger\"\r\n                className=\"ml-1 mr-1\"\r\n                onClick={(e) => handleRemove(row)}\r\n              >\r\n                <FontIcon icon=\"trash-alt\" />\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <Link to={{ pathname: `/enter-module/${row._id}` }}>\r\n              <Button variant=\"info\" className=\"ml-1 mr-1\">\r\n                <FontIcon icon=\"eye\" />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: isEditable ? \"150px\" : \"100px\",\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={modules}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={noModulesMessage}\r\n          selectableRows={isEditable}\r\n          subHeader={isEditable}\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={(state) => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"trash-alt\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <Link to=\"/add-module\">\r\n              <Button variant=\"warning\" className=\"mr-3\">\r\n                <FontIcon icon=\"plus\" />\r\n                <b> New module</b>\r\n              </Button>\r\n            </Link>\r\n          }\r\n        />\r\n      </div>\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { ModulesTable } from \"../templates/ModulesTable\";\r\n\r\nexport function ModulesPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">ALL MODULES</Heading>\r\n      <br />\r\n      <ModulesTable\r\n        isEditable={false}\r\n        noCoursesMessage=\"You have access to 0 modules\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\n\r\nexport function WelcomeMessage({ name, counter }) {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"4\">Welcome to {name}!</Heading>\r\n      <br />\r\n      <p>\r\n        This course has <b>{counter}</b> sections in total. Complete the last\r\n        section to successfully finish this course!\r\n      </p>\r\n      <p className=\"text-danger\">\r\n        <b>\r\n          <i>\r\n            * If you cannot unlock any new sections, try getting better results\r\n            in sections you currently have\r\n          </i>\r\n        </b>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\n\r\nexport function Congratulations({ name, counter }) {\r\n  return (\r\n    <div align=\"center\">\r\n      <FontIcon icon=\"thumbs-up\" className=\"fa-5x text-success\" />\r\n      <EmptyLine level=\"1\" />\r\n      <Heading level=\"4\">Congratulations!</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <p>\r\n        You have successfully unlocked all sections of <b>{name}</b>!<br />\r\n        Finish the last section to complete this course!\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport function SectionView({ course, section, name, maxPoints, points }) {\r\n  return (\r\n    <div align=\"center\">\r\n      <EmptyLine level=\"1\" />\r\n      <Heading level=\"2\">{name}</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <p>\r\n        You currently have <b>{points}</b> out of <b>{maxPoints}</b> points!\r\n      </p>\r\n      <p className=\"text-danger\">\r\n        <b>\r\n          <i>* Your progress is not saved until you finish a section</i>\r\n        </b>\r\n        <br />\r\n        {points > 0 ? (\r\n          <b>\r\n            <i>* Your current progress will be rewritten</i>\r\n          </b>\r\n        ) : null}\r\n      </p>\r\n      <EmptyLine level=\"1\" />\r\n      <Link to={{ pathname: `/enter-course/${course}/${section}` }}>\r\n        <Button\r\n          className={\"btn btn-warning\"}\r\n          style={{ width: \"200px\" }}\r\n          type=\"button\"\r\n        >\r\n          <b>Start</b>\r\n        </Button>\r\n      </Link>\r\n      <EmptyLine level=\"1\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { WelcomeMessage } from \"../molecules/WelcomeMessage\";\r\nimport { Congratulations } from \"../molecules/Congratulations\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\nimport { SectionView } from \"../templates/SectionView\";\r\n\r\nexport function CoursePage(props) {\r\n  const [rewards, setRewards] = useState([]);\r\n  const [name, setName] = useState(\"COURSE\");\r\n  const [counter, setCounter] = useState(0);\r\n  const [allSections, setAllSections] = useState([]);\r\n  const [sections, setSections] = useState(0);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/getSelectedUsers\", {\r\n        tokens: [auth.token],\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          let user = res.data.data[0];\r\n          let coursePoints = 0;\r\n          let courseRewards = [];\r\n          let courseContent = [];\r\n          let unlockedSections = 0;\r\n\r\n          if (user.progress && user.progress.length > 0) {\r\n            let progress = user.progress.find(\r\n              (obj) => obj.course === props.match.params.course\r\n            );\r\n\r\n            if (progress) {\r\n              progress.rewards.forEach(function (entry) {\r\n                coursePoints += entry.points;\r\n              });\r\n              courseRewards = progress.rewards;\r\n            }\r\n          }\r\n\r\n          globalApiInstance\r\n            .post(process.env.REACT_APP_BASE_API + \"courses/getCourse\", {\r\n              course: props.match.params.course,\r\n            })\r\n            .then((res) => {\r\n              if (res.data.data) {\r\n                let course = res.data.data;\r\n\r\n                if (course.content && course.content.length > 0) {\r\n                  course.content.forEach(function (entry) {\r\n                    if (coursePoints >= entry.unlockPoints) {\r\n                      unlockedSections++;\r\n                    }\r\n                    courseContent.push(entry);\r\n                  });\r\n                }\r\n\r\n                courseContent.sort((a, b) =>\r\n                  a.unlockPoints > b.unlockPoints\r\n                    ? 1\r\n                    : b.unlockPoints > a.unlockPoints\r\n                    ? -1\r\n                    : 0\r\n                );\r\n\r\n                setRewards(courseRewards);\r\n                setName(course.name);\r\n                setCounter(course.content.length);\r\n                setSections(unlockedSections);\r\n                setAllSections(courseContent);\r\n                setStatus(\"success\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              setStatus(\"error\");\r\n              setMessage(err.message);\r\n            });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [auth.token, props.match.params.course]);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">{name}</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      {sections !== 0 && allSections.length === sections ? (\r\n        <Congratulations name={name} counter={counter} />\r\n      ) : (\r\n        <WelcomeMessage name={name} counter={counter} />\r\n      )}\r\n      <EmptyLine level=\"2\" />\r\n      <div className=\"row\">\r\n        <div\r\n          className=\"col border nav flex-column nav-pills\"\r\n          id=\"v-pills-tab\"\r\n          role=\"tablist\"\r\n          aria-orientation=\"vertical\"\r\n        >\r\n          {allSections.map((section, i) => (\r\n            <a\r\n              key={i}\r\n              className={\r\n                \"nav-link\" +\r\n                (i === sections - 1\r\n                  ? \" active\"\r\n                  : i >= sections\r\n                  ? \" disabled\"\r\n                  : \"\")\r\n              }\r\n              id={i + \"-tab\"}\r\n              data-toggle=\"pill\"\r\n              href={\"#tab\" + i}\r\n              role=\"tab\"\r\n              aria-controls={\"tab\" + i}\r\n              aria-selected=\"true\"\r\n            >\r\n              {section.name}\r\n            </a>\r\n          ))}\r\n        </div>\r\n        <div className=\"col-9 border tab-content\" id=\"v-pills-tabContent\">\r\n          {allSections.map((section, i) => (\r\n            <div\r\n              key={i}\r\n              className={\r\n                \"tab-pane fade\" + (i === sections - 1 ? \" show active\" : \"\")\r\n              }\r\n              id={\"tab\" + i}\r\n              role=\"tabpanel\"\r\n              aria-labelledby={i + \"-tab\"}\r\n            >\r\n              <SectionView\r\n                course={props.match.params.course}\r\n                section={section._id}\r\n                name={section.name}\r\n                maxPoints={section.rewardPoints}\r\n                points={\r\n                  rewards.find((obj) => obj.section === section._id)\r\n                    ? rewards.find((obj) => obj.section === section._id).points\r\n                    : 0\r\n                }\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\n\r\nexport function Timer({ name, timer, limit, seconds }) {\r\n  if (timer === \"Clock\") {\r\n    let day = moment.duration({ s: seconds });\r\n    let time = moment().startOf(\"day\").add(day).format(\"HH:mm:ss\");\r\n\r\n    return (\r\n      <>\r\n        <div className=\"row border border-top-0 border-dark align-self-center\">\r\n          <div className=\"col alert alert-secondary align-self-center mt-3 ml-4 mr-4\">\r\n            <Heading level=\"4\">\r\n              <b>{name}</b>\r\n            </Heading>\r\n          </div>\r\n          <div className=\"col alert alert-info align-self-center mt-3 ml-4 mr-4\">\r\n            <Heading level=\"4\">{time}</Heading>\r\n          </div>\r\n        </div>\r\n        <EmptyLine level=\"3\" />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (timer === \"Countdown\") {\r\n    let day = moment.duration({ s: limit * 60 - seconds });\r\n    let time = moment().startOf(\"day\").add(day).format(\"HH:mm:ss\");\r\n\r\n    return (\r\n      <>\r\n        <div className=\"row border border-top-0 border-dark align-self-center\">\r\n          <div className=\"col alert alert-secondary align-self-center mt-3 ml-4 mr-4\">\r\n            <Heading level=\"4\">\r\n              <b>{name}</b>\r\n            </Heading>\r\n          </div>\r\n          <div className=\"col alert alert-danger align-self-center mt-3 ml-4 mr-4\">\r\n            <Heading level=\"4\">{time}</Heading>\r\n          </div>\r\n        </div>\r\n        <EmptyLine level=\"3\" />\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row border border-top-0 border-dark align-self-center\">\r\n        <div className=\"col alert alert-secondary align-self-center mt-3 ml-4 mr-4\">\r\n          <Heading level=\"4\">\r\n            <b>{name}</b>\r\n          </Heading>\r\n        </div>\r\n      </div>\r\n      <EmptyLine level=\"3\" />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport parse from \"html-react-parser\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { Timer } from \"../molecules/Timer\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n\r\nexport function ModuleDetail({ moduleId, addPoints, changeTab }) {\r\n  const [content, setContent] = useState([]);\r\n  const [name, setName] = useState(null);\r\n  const [type, setType] = useState(null);\r\n  const [limit, setLimit] = useState(null);\r\n  const [view, setView] = useState(null);\r\n  const [timer, setTimer] = useState(null);\r\n  const [clock, setClock] = useState(0);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const formatAnswer = (answer) => {\r\n    let formattedAnswer = answer.toUpperCase();\r\n    formattedAnswer = formattedAnswer.replace(/\\s/g, \"\");\r\n\r\n    return formattedAnswer;\r\n  };\r\n\r\n  const parseContent = (contentToParse, moduleType) => {\r\n    let counter = 1;\r\n    let parsedContent = \"\";\r\n\r\n    contentToParse.forEach(function (entry) {\r\n      if (entry.sType === \"HTML\" || entry.sType === \"Video or media\") {\r\n        parsedContent += entry.data;\r\n        parsedContent += \"<br /><br />\";\r\n      } else if (entry.sType === \"Text answer\") {\r\n        parsedContent += entry.data;\r\n        parsedContent +=\r\n          \"<input style='width:250px;' id='question-\" + counter + \"' />\";\r\n\r\n        parsedContent += \"<br /><br /><br />\";\r\n        counter += 1;\r\n      } else {\r\n        let iType = entry.sType === \"One correct choice\" ? \"radio\" : \"checkbox\";\r\n        let question = entry.data.split(\";;;\")[0];\r\n        let choices = entry.data.split(\";;;\").slice(1, -1);\r\n\r\n        parsedContent += question;\r\n        parsedContent += \"<div style='display: inline-block;' align='left'>\";\r\n\r\n        if (entry.rnd) {\r\n          for (var i = choices.length - 1; i > 0; i--) {\r\n            var j = Math.floor(Math.random() * (i + 1));\r\n            var tmp = choices[i];\r\n            choices[i] = choices[j];\r\n            choices[j] = tmp;\r\n          }\r\n        }\r\n\r\n        choices.forEach(function (entry) {\r\n          parsedContent += \"<input type='\" + iType + \"' id='\" + entry;\r\n          parsedContent +=\r\n            \"' name='question-\" + counter + \"' /> \" + entry + \"<br />\";\r\n        });\r\n\r\n        parsedContent += \"<br /><br />\";\r\n        counter += 1;\r\n      }\r\n    });\r\n\r\n    if (parsedContent) {\r\n      let allParsedContent = \"<div align='center'>\";\r\n      if (moduleType === \"Test\") {\r\n        allParsedContent =\r\n          \"<div style='display: inline-block;max-width: 75%;' align='left'>\";\r\n      }\r\n      allParsedContent += parsedContent;\r\n      allParsedContent += \"</div>\";\r\n      setView(allParsedContent);\r\n    }\r\n  };\r\n\r\n  const finishModule = () => {\r\n    let contentPoints = 0;\r\n\r\n    if (type === \"Info\") {\r\n      content.forEach(function (entry) {\r\n        if (clock >= entry.rqmt * 60) {\r\n          contentPoints += entry.points;\r\n        }\r\n      });\r\n    } else {\r\n      let counter = 1;\r\n\r\n      content.forEach(function (entry) {\r\n        if (entry.sType !== \"HTML\") {\r\n          let id = \"question-\" + counter;\r\n\r\n          if (entry.sType === \"Text answer\") {\r\n            let correctAnswer = formatAnswer(entry.rqmt);\r\n            let studentAnswer = formatAnswer(document.getElementById(id).value);\r\n\r\n            if (correctAnswer === studentAnswer) {\r\n              contentPoints += entry.points;\r\n            }\r\n          } else {\r\n            let answers = entry.rqmt.split(\";;;\").slice(0, -1);\r\n            let checkboxes = document.getElementsByName(id);\r\n            let selected = Array.prototype.slice\r\n              .call(checkboxes)\r\n              .filter((ch) => ch.checked === true);\r\n\r\n            if (entry.sType === \"One correct choice\") {\r\n              if (selected[0] && answers[0] && selected[0].id === answers[0]) {\r\n                contentPoints += entry.points;\r\n              }\r\n            } else {\r\n              let points = 0;\r\n\r\n              if (answers.length === 0) {\r\n                points =\r\n                  entry.points -\r\n                  (selected.length / checkboxes.length) * entry.points;\r\n              } else {\r\n                let checkboxesHit = 0;\r\n\r\n                selected.forEach(function (entry) {\r\n                  if (answers.includes(entry.id)) {\r\n                    checkboxesHit += 1;\r\n                  } else {\r\n                    checkboxesHit -= 1;\r\n                  }\r\n                });\r\n\r\n                points = (checkboxesHit / answers.length) * entry.points;\r\n                points = points < 0 ? 0 : points;\r\n              }\r\n\r\n              contentPoints += points;\r\n            }\r\n          }\r\n\r\n          counter += 1;\r\n        }\r\n      });\r\n    }\r\n\r\n    addPoints(contentPoints);\r\n    changeTab(\"results\");\r\n  };\r\n\r\n  useInterval(() => {\r\n    if (document.hasFocus() || timer === \"Countdown\") setClock(clock + 1);\r\n    if (limit !== null && limit !== 0 && clock >= limit * 60) {\r\n      finishModule();\r\n    }\r\n  }, 1000);\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/getModule\", {\r\n        module: moduleId,\r\n      })\r\n      .then((res) => {\r\n        setName(res.data.data.name);\r\n        setType(res.data.data.type);\r\n        setLimit(res.data.data.limit);\r\n        setTimer(res.data.data.timer);\r\n        setContent(res.data.data.content);\r\n        parseContent(res.data.data.content, res.data.data.type);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [moduleId]);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-75\">\r\n        <Timer name={name} timer={timer} limit={limit} seconds={clock} />\r\n      </div>\r\n      {view ? (\r\n        parse(view)\r\n      ) : (\r\n        <>\r\n          <Heading level=\"2\">This module contains no content</Heading>\r\n          <EmptyLine level=\"1\" />\r\n        </>\r\n      )}\r\n      <ServerStatus status={status} message={message} />\r\n      <EmptyLine level=\"1\" />\r\n      <Button\r\n        className={\"btn btn-success\"}\r\n        style={{ width: \"200px\" }}\r\n        type=\"button\"\r\n        onClick={finishModule}\r\n        disabled={type === null}\r\n      >\r\n        <b>Next</b>\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\nimport { ModuleDetail } from \"../templates/ModuleDetail\";\r\n\r\nexport function SectionPage(props) {\r\n  const [points, setPoints] = useState(0);\r\n  const [tab, setTab] = useState();\r\n  const [section, setSection] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n\r\n  const addPoints = (value) => {\r\n    setPoints(points + value);\r\n  };\r\n\r\n  const finish = () => {\r\n    let finalPoints = section.rewardPoints;\r\n\r\n    if (section.rewardMargin !== 0) {\r\n      finalPoints = (points * section.rewardMargin).toFixed(0);\r\n      if (finalPoints < section.minPoints) {\r\n        finalPoints -= section.penalty;\r\n      }\r\n    }\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"users/saveProgress\", {\r\n        user: auth.token,\r\n        course: props.match.params.course,\r\n        section: props.match.params.section,\r\n        points: finalPoints,\r\n      })\r\n      .then((res) => {\r\n        setTab(\"redirect\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const retry = () => {\r\n    setStatus(\"idle\");\r\n    setPoints(0);\r\n    setIndex(0);\r\n    setTab(\"start\");\r\n  };\r\n\r\n  const changeTab = () => {\r\n    if (index < section.modules.length - 1) {\r\n      setIndex(index + 1);\r\n    } else {\r\n      setTab(\"end\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/getSection\", {\r\n        courseId: props.match.params.course,\r\n        sectionId: props.match.params.section,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          setSection(res.data.data);\r\n          setTab(\"start\");\r\n          setStatus(\"success\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [props.match.params.course, props.match.params.section]);\r\n\r\n  if (tab === \"redirect\")\r\n    return (\r\n      <Redirect\r\n        push\r\n        to={{ pathname: `/enter-course/${props.match.params.course}` }}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      {tab === \"start\" ? (\r\n        <ModuleDetail\r\n          moduleId={section.modules[index]}\r\n          addPoints={addPoints}\r\n          changeTab={changeTab}\r\n        />\r\n      ) : tab === \"end\" ? (\r\n        <>\r\n          {(points * section.rewardMargin).toFixed(0) < section.minPoints ? (\r\n            <>\r\n              <FontIcon icon=\"thumbs-down\" className=\"fa-5x text-danger\" />\r\n              <EmptyLine level=\"1\" />\r\n              <Heading level=\"2\">BETTER LUCK NEXT TIME!</Heading>\r\n              <EmptyLine level=\"2\" />\r\n              <p>\r\n                You were unable to meet the minimum requirement for this\r\n                section.\r\n                <br />\r\n                Therefore you will get{\" \"}\r\n                <b>\r\n                  {(points * section.rewardMargin).toFixed(0) - section.penalty}\r\n                </b>{\" \"}\r\n                point(s) out of <b>{section.rewardPoints}</b>!\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FontIcon icon=\"thumbs-up\" className=\"fa-5x text-success\" />\r\n              <EmptyLine level=\"1\" />\r\n              <Heading level=\"2\">CONGRATULATIONS!</Heading>\r\n              <EmptyLine level=\"2\" />\r\n              <p>\r\n                You got{\" \"}\r\n                <b>\r\n                  {section.rewardMargin !== 0\r\n                    ? (points * section.rewardMargin).toFixed(0)\r\n                    : section.rewardPoints}\r\n                </b>{\" \"}\r\n                point(s) out of <b>{section.rewardPoints}</b>!\r\n              </p>\r\n            </>\r\n          )}\r\n          <EmptyLine level=\"2\" />\r\n          <Button\r\n            className={\"btn btn-success ml-2 mr-2\"}\r\n            style={{ width: \"200px\" }}\r\n            type=\"button\"\r\n            onClick={finish}\r\n          >\r\n            <b>Finish</b>\r\n          </Button>\r\n          <Button\r\n            className={\"btn btn-info ml-2 mr-2\"}\r\n            style={{ width: \"200px\" }}\r\n            type=\"button\"\r\n            onClick={retry}\r\n          >\r\n            <b>Retry</b>\r\n          </Button>\r\n        </>\r\n      ) : null}\r\n      <EmptyLine level=\"1\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { ModuleDetail } from \"../templates/ModuleDetail\";\r\n\r\nexport function ModulePage(props) {\r\n  const [points, setPoints] = useState(0);\r\n  const [tab, setTab] = useState(\"module\");\r\n\r\n  const addPoints = (value) => {\r\n    setPoints(points + value);\r\n  };\r\n\r\n  const retry = () => {\r\n    setPoints(0);\r\n    changeTab(\"module\");\r\n  };\r\n\r\n  const changeTab = (newTab) => {\r\n    setTab(newTab);\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      {tab === \"module\" ? (\r\n        <ModuleDetail\r\n          moduleId={props.match.params.module}\r\n          addPoints={addPoints}\r\n          changeTab={changeTab}\r\n        />\r\n      ) : (\r\n        <>\r\n          <FontIcon icon=\"check-circle\" className=\"fa-5x text-muted\" />\r\n          <EmptyLine level=\"1\" />\r\n          <Heading level=\"2\">CONGRATULATIONS!</Heading>\r\n          <EmptyLine level=\"2\" />\r\n          <p>\r\n            You got <b>{points}</b> point(s)!\r\n          </p>\r\n          <EmptyLine level=\"2\" />\r\n          <Button\r\n            className={\"btn btn-info\"}\r\n            style={{ width: \"200px\" }}\r\n            type=\"button\"\r\n            onClick={retry}\r\n          >\r\n            <b>Retry</b>\r\n          </Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport const courseInfoSchema = yup.object().shape({\r\n  name: yup.string().label(\"Name\").required(),\r\n  org: yup.string().label(\"Organizator\").required(),\r\n  cat: yup.string().label(\"Category\").required(),\r\n  length: yup.string().label(\"Duration\").required(),\r\n});\r\n\r\nexport function CourseModification({ courseId, changeTab }) {\r\n  const auth = useAuth();\r\n\r\n  const [course, setCourse] = useState({\r\n    name: \"\",\r\n    org: \"\",\r\n    cat: \"\",\r\n    level: \"Beginner\",\r\n    length: \"\",\r\n    status: \"Active\",\r\n    author: auth.user,\r\n  });\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  function saveCourseInfo(values) {\r\n    setStatus(\"loading\");\r\n\r\n    if (courseId) {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"courses/updateCourseInfo\", {\r\n          courseId: courseId,\r\n          name: values.name,\r\n          org: values.org,\r\n          cat: values.cat,\r\n          level: values.level,\r\n          length: values.length,\r\n          status: values.status,\r\n        })\r\n        .then((res) => {\r\n          setStatus(\"success\");\r\n          setMessage(\"Course successfully updated\");\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    } else {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"courses/createNewCourse\", {\r\n          name: values.name,\r\n          org: values.org,\r\n          cat: values.cat,\r\n          level: values.level,\r\n          length: values.length,\r\n          status: values.status,\r\n          author: values.author,\r\n          withAccess: auth.token,\r\n        })\r\n        .then((res) => {\r\n          changeTab(res.data.data);\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (courseId)\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"courses/getCourse\", {\r\n          course: courseId,\r\n        })\r\n        .then((res) => {\r\n          setCourse(res.data.data);\r\n          setStatus(\"success\");\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    else setStatus(\"idle\");\r\n  }, [courseId]);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Formik\r\n        initialValues={{\r\n          name: course.name,\r\n          org: course.org,\r\n          cat: course.cat,\r\n          level: course.level,\r\n          length: course.length,\r\n          status: course.status,\r\n          author: course.author,\r\n        }}\r\n        onSubmit={(values, actions) => {\r\n          saveCourseInfo(values);\r\n        }}\r\n        validationSchema={courseInfoSchema}\r\n        enableReinitialize\r\n      >\r\n        {(props) => (\r\n          <form onSubmit={props.handleSubmit}>\r\n            <div className=\"container\">\r\n              <div className=\"col mb-4\">\r\n                <b>Name (should be unique)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.name}\r\n                  style={\r\n                    props.errors.name\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"name\"\r\n                  placeholder=\"name\"\r\n                />\r\n                {props.errors.name && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.name}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Organizator (who is this course from)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.org}\r\n                  style={\r\n                    props.errors.org\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"org\"\r\n                  placeholder=\"organizator\"\r\n                />\r\n                {props.errors.org && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.org}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Category (medical, technical, etc.)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.cat}\r\n                  style={\r\n                    props.errors.cat\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"cat\"\r\n                  placeholder=\"category\"\r\n                />\r\n                {props.errors.cat && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.cat}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Duration (how long it should take)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.length}\r\n                  style={\r\n                    props.errors.length\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"length\"\r\n                  placeholder=\"duration\"\r\n                />\r\n                {props.errors.length && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.length}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Level (estimated difficulty)</b>\r\n                <br />\r\n                <select\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.level}\r\n                  style={{ width: \"300px\", height: \"30px\" }}\r\n                  name=\"level\"\r\n                >\r\n                  <option value=\"Beginner\">Beginner</option>\r\n                  <option value=\"Elementary\">Elementary</option>\r\n                  <option value=\"Intermediate\">Intermediate</option>\r\n                  <option value=\"Advanced\">Advanced</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Status (current accessibility)</b>\r\n                <br />\r\n                <select\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.status}\r\n                  style={{ width: \"300px\", height: \"30px\" }}\r\n                  name=\"status\"\r\n                >\r\n                  <option value=\"Active\">Active</option>\r\n                  <option value=\"Inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n              <EmptyLine level=\"2\" />\r\n              <div className=\"row justify-content-center\">\r\n                <Button\r\n                  className={\"btn btn-primary\"}\r\n                  style={{ width: \"250px\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  <b>Save course info</b>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <EmptyLine level=\"2\" />\r\n          </form>\r\n        )}\r\n      </Formik>\r\n      <EmptyLine level=\"1\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { Loading } from \"../molecules/Loading\";\r\n\r\nexport const sectionSchema = yup.object().shape({\r\n  name: yup.string().label(\"Name\").required(),\r\n});\r\n\r\nexport function SectionsModal({ sectionId, courseId, closeModal }) {\r\n  const defaultSection = {\r\n    name: \"\",\r\n    rewardMargin: 0,\r\n    rewardPoints: 0,\r\n    unlockPoints: 0,\r\n    minPoints: 0,\r\n    penalty: 0,\r\n  };\r\n\r\n  const defaultModules = [\r\n    {\r\n      _id: \"new\",\r\n      name: \"select module\",\r\n      points: 0,\r\n    },\r\n  ];\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n  const [section, setSection] = useState(defaultSection);\r\n  const [modules, setModules] = useState(defaultModules);\r\n  const [modulePoints, setModulePoints] = useState(0);\r\n  const [allModules, setAllModules] = useState([]);\r\n\r\n  const auth = useAuth();\r\n  const totalPointsInfo =\r\n    \"Total points determine how many points you can get for \" +\r\n    \"this section regardless of the number of points you can \" +\r\n    \"get for all of its modules.\\nFor example: if you have three \" +\r\n    \"modules and the maximum number of points you can get for \" +\r\n    \"each of them separately is 2 (meaning you should be able \" +\r\n    \"to get 6 points in total for this section), then if you \" +\r\n    'set \"Total points for this section\" to 3, the maximum ' +\r\n    \"number of points for each module in this section will \" +\r\n    \"instead automatically become 1 (thus making it 3 in \" +\r\n    \"total for the entire section).\";\r\n  const penaltyInfo =\r\n    \"Penalty determines how many points will be subtracted \" +\r\n    \"from the total number of received points for this section \" +\r\n    \"in case the minimum requirement is not met. Make sure to \" +\r\n    \"use this option carefully (if you subtract too many points, \" +\r\n    \"it might not be possible to finish the course).\";\r\n\r\n  const closeSectionModal = (isExit) => {\r\n    setStatus(\"loading\");\r\n    setMessage(null);\r\n    setSection(defaultSection);\r\n    setModules(defaultModules);\r\n    setModulePoints(0);\r\n    setAllModules([]);\r\n    closeModal(isExit);\r\n  };\r\n\r\n  const parseModules = (dataModules) => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/getModules\", {\r\n        modules: dataModules,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          let parsedModules = Array(res.data.data.length);\r\n          let dataModulesPoints = 0;\r\n\r\n          res.data.data.forEach(function (entry) {\r\n            let totalPoints = 0;\r\n            entry.content.forEach(function (entry) {\r\n              totalPoints += entry.points;\r\n            });\r\n\r\n            let parsedModule = {\r\n              _id: entry._id,\r\n              name: entry._name,\r\n              points: totalPoints,\r\n            };\r\n\r\n            let moduleIndex = dataModules.indexOf(entry._id);\r\n            parsedModules[moduleIndex] = parsedModule;\r\n            dataModulesPoints += totalPoints;\r\n          });\r\n\r\n          setModules(parsedModules);\r\n          setModulePoints(dataModulesPoints);\r\n        }\r\n      });\r\n  };\r\n\r\n  const addModule = () => {\r\n    let updatedModules = [...modules];\r\n    updatedModules.push(defaultModules[0]);\r\n\r\n    setModules(updatedModules);\r\n  };\r\n\r\n  const updateModule = (index, value) => {\r\n    let updatedModules = [...modules];\r\n    let updatedPoints = 0;\r\n\r\n    updatedModules[index] = allModules.find((obj) => obj._id === value);\r\n    setModules(updatedModules);\r\n\r\n    updatedModules.forEach(function (entry) {\r\n      updatedPoints += entry.points;\r\n    });\r\n    setModulePoints(updatedPoints);\r\n  };\r\n\r\n  const removeModule = (index, points) => {\r\n    let updatedModules = [...modules];\r\n    let updatedPoints = modulePoints;\r\n\r\n    updatedModules.splice(index, 1);\r\n    updatedPoints -= points;\r\n\r\n    setModules(updatedModules);\r\n    setModulePoints(updatedPoints);\r\n  };\r\n\r\n  const moveUp = (index) => {\r\n    let updatedModules = [...modules];\r\n    let tmpModule = updatedModules[index - 1];\r\n\r\n    updatedModules[index - 1] = updatedModules[index];\r\n    updatedModules[index] = tmpModule;\r\n\r\n    setModules(updatedModules);\r\n  };\r\n\r\n  const moveDown = (index) => {\r\n    let updatedModules = [...modules];\r\n    let tmpModule = updatedModules[index + 1];\r\n\r\n    updatedModules[index + 1] = updatedModules[index];\r\n    updatedModules[index] = tmpModule;\r\n\r\n    setModules(updatedModules);\r\n  };\r\n\r\n  const saveSection = (values) => {\r\n    setStatus(\"loading\");\r\n\r\n    let moduleIds = [];\r\n    modules.forEach(function (entry) {\r\n      moduleIds.push(entry._id);\r\n    });\r\n\r\n    if (moduleIds.includes(\"new\")) {\r\n      setStatus(\"error\");\r\n      setMessage(\"All modules must be selected\");\r\n      return;\r\n    }\r\n\r\n    let findDuplicates = (arr) =>\r\n      arr.filter((item, index) => arr.indexOf(item) !== index);\r\n\r\n    if (findDuplicates(moduleIds).length > 0) {\r\n      setStatus(\"error\");\r\n      setMessage(\"One module cannot be selected more than once\");\r\n      return;\r\n    }\r\n\r\n    let newRewardMargin =\r\n      modulePoints === 0 ? 0 : values.rewardPoints / modulePoints;\r\n\r\n    let newSection = {\r\n      name: values.name,\r\n      modules: moduleIds,\r\n      rewardMargin: newRewardMargin,\r\n      rewardPoints: values.rewardPoints,\r\n      unlockPoints: values.unlockPoints,\r\n      minPoints: values.minPoints,\r\n      penalty: values.penalty,\r\n    };\r\n\r\n    if (sectionId === \"new\") {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"courses/addNewSection\", {\r\n          courseId: courseId,\r\n          section: newSection,\r\n        })\r\n        .then((res) => {\r\n          closeSectionModal(false);\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    } else {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"courses/updateSection\", {\r\n          sectionId: sectionId,\r\n          courseId: courseId,\r\n          section: newSection,\r\n        })\r\n        .then((res) => {\r\n          closeSectionModal(false);\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      minWidth: \"650px\",\r\n      maxHeight: \"calc(100vh - 100px)\",\r\n      marginRight: \"-50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      overflowY: \"auto\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/getAccessibleModules\", {\r\n        user: auth.token,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data) {\r\n          let results = [\r\n            {\r\n              _id: \"new\",\r\n              name: \"select module\",\r\n              points: 0,\r\n            },\r\n          ];\r\n\r\n          res.data.data.forEach(function (entry) {\r\n            let points = 0;\r\n\r\n            if (entry.content && entry.content.length > 0) {\r\n              entry.content.forEach(function (entry) {\r\n                points += entry.points;\r\n              });\r\n            }\r\n\r\n            let module = {\r\n              _id: entry._id,\r\n              name: entry.name,\r\n              points: points,\r\n            };\r\n            results.push(module);\r\n          });\r\n\r\n          setAllModules(results);\r\n\r\n          if (sectionId) {\r\n            if (sectionId !== \"new\") {\r\n              globalApiInstance\r\n                .post(process.env.REACT_APP_BASE_API + \"courses/getSection\", {\r\n                  courseId: courseId,\r\n                  sectionId: sectionId,\r\n                })\r\n                .then((res) => {\r\n                  parseModules(res.data.data.modules);\r\n                  setSection(res.data.data);\r\n                  setStatus(\"success\");\r\n                })\r\n                .catch((err) => {\r\n                  setStatus(\"error\");\r\n                  setMessage(err.message);\r\n                });\r\n            } else {\r\n              setStatus(\"idle\");\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [courseId, sectionId, auth.token]);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={sectionId !== null}\r\n      onRequestClose={(e) => closeSectionModal(true)}\r\n      style={customStyles}\r\n      ariaHideApp={false}\r\n    >\r\n      <div align=\"center\">\r\n        <EmptyLine level=\"2\" />\r\n        <Heading level=\"2\">\r\n          {sectionId === \"new\" ? \"ADD SECTION\" : \"EDIT SECTION\"}\r\n        </Heading>\r\n        <EmptyLine level=\"2\" />\r\n        <Formik\r\n          initialValues={{\r\n            name: section.name,\r\n            rewardPoints: section.rewardPoints,\r\n            unlockPoints: section.unlockPoints,\r\n            minPoints: section.minPoints,\r\n            penalty: section.penalty,\r\n          }}\r\n          onSubmit={(values, actions) => {\r\n            saveSection(values);\r\n          }}\r\n          validationSchema={sectionSchema}\r\n          enableReinitialize\r\n        >\r\n          {(props) => (\r\n            <form onSubmit={props.handleSubmit}>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Name (should be unique)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.name}\r\n                      style={\r\n                        props.errors.name\r\n                          ? {\r\n                              width: \"250px\",\r\n                              height: \"30px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"250px\", height: \"30px\" }\r\n                      }\r\n                      name=\"name\"\r\n                      placeholder=\"name\"\r\n                    />\r\n                    {props.errors.name && (\r\n                      <>\r\n                        <br />\r\n                        <b className=\"text-danger\">{props.errors.name}</b>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Points needed for unlocking</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.unlockPoints}\r\n                      min=\"0\"\r\n                      max=\"10000\"\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"unlockPoints\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Points from selected modules</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={modulePoints}\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"modulePoints\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Total points for this section</b>{\" \"}\r\n                    <FontIcon icon=\"question-circle\" title={totalPointsInfo} />\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.rewardPoints}\r\n                      min=\"0\"\r\n                      max=\"10000\"\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"rewardPoints\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Minimum points required</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.minPoints}\r\n                      min=\"0\"\r\n                      max={props.values.rewardPoints}\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"minPoints\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Penalty for failing</b>{\" \"}\r\n                    <FontIcon icon=\"question-circle\" title={penaltyInfo} />\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.penalty}\r\n                      min=\"0\"\r\n                      max=\"10000\"\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"penalty\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Modules (in chronological order)</b>\r\n                    <br />\r\n                    {modules.map((module, i) => (\r\n                      <div key={i}>\r\n                        <select\r\n                          className=\"mb-1\"\r\n                          onChange={(e) => updateModule(i, e.target.value)}\r\n                          onBlur={(e) => updateModule(i, e.target.value)}\r\n                          value={module._id}\r\n                          style={{ width: \"430px\", height: \"38px\" }}\r\n                        >\r\n                          {allModules.map((module, i) => (\r\n                            <option key={i} value={module._id}>\r\n                              {module.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        <Button\r\n                          className=\"btn btn-danger ml-2\"\r\n                          type=\"button\"\r\n                          disabled={modules.length === 1}\r\n                          onClick={(e) => removeModule(i, module.points)}\r\n                        >\r\n                          <FontIcon icon=\"minus\" />\r\n                        </Button>\r\n                        <Button\r\n                          className=\"btn btn-info ml-1\"\r\n                          onClick={(e) => moveDown(i)}\r\n                          disabled={i >= modules.length - 1}\r\n                        >\r\n                          <FontIcon icon=\"long-arrow-alt-down\" />\r\n                        </Button>\r\n                        <Button\r\n                          className=\"btn btn-info ml-1\"\r\n                          onClick={(e) => moveUp(i)}\r\n                          disabled={i <= 0}\r\n                        >\r\n                          <FontIcon icon=\"long-arrow-alt-up\" />\r\n                        </Button>\r\n                      </div>\r\n                    ))}\r\n                    <Button\r\n                      className={\"btn btn-success\"}\r\n                      style={{ width: \"200px\" }}\r\n                      type=\"button\"\r\n                      onClick={addModule}\r\n                    >\r\n                      <b>Insert</b>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <EmptyLine level=\"2\" />\r\n                <Button\r\n                  className={\"btn btn-primary ml-2 mr-2\"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  <b>Save</b>\r\n                </Button>\r\n                <Button\r\n                  className={\"btn btn-secondary ml-2 mr-2 \"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"button\"\r\n                  onClick={closeSectionModal}\r\n                >\r\n                  <b>Close</b>\r\n                </Button>\r\n              </div>\r\n              <EmptyLine level=\"2\" />\r\n              {status === \"loading\" ? (\r\n                <Loading />\r\n              ) : status === \"error\" ? (\r\n                <ErrorMessage error={message} />\r\n              ) : null}\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\nimport { SectionsModal } from \"../organisms/SectionsModal\";\r\n\r\nexport function CourseContent({ courseId, changeTab }) {\r\n  const [sectionId, setSectionId] = useState(null);\r\n\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [sections, setSections] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const closeModal = (isExit) => {\r\n    setSectionId(null);\r\n    setStatus(\"idle\");\r\n    if (!isExit) setFetchSignal(!fetchSignal);\r\n  };\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/getCourse\", {\r\n        course: courseId,\r\n      })\r\n      .then((res) => {\r\n        setSections(res.data.data.content);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [courseId, fetchSignal]);\r\n\r\n  const finishCourse = () => {\r\n    changeTab(\"redirect\");\r\n  };\r\n\r\n  const removeSections = (rows) => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/removeSections\", {\r\n        course: courseId,\r\n        selectedSections: rows,\r\n      })\r\n      .then((res) => {\r\n        setMessage(\"Section(s) successfully removed\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (row) => {\r\n    swal({\r\n      title: \"Do you want to remove this part?\",\r\n      text: \"You are about to remove this part. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeSections([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to remove these parts?\",\r\n      text: \"You are about to remove these parts. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeSections(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const addSection = () => {\r\n    setSectionId(\"new\");\r\n  };\r\n\r\n  const handleEdit = (row) => {\r\n    setSectionId(row._id);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Points for unlocking\",\r\n      selector: \"unlockPoints\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Rewarded points\",\r\n      selector: \"rewardPoints\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Minimum requirement\",\r\n      selector: \"minPoints\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Penalty\",\r\n      selector: \"penalty\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <div>\r\n          <Button\r\n            variant=\"primary\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => handleEdit(row)}\r\n          >\r\n            <FontIcon icon=\"folder-open\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => handleRemove(row)}\r\n          >\r\n            <FontIcon icon=\"folder-minus\" />\r\n          </Button>\r\n        </div>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: \"150px\",\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={sections}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={\"This course is currently empty\"}\r\n          selectableRows\r\n          subHeader\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={(state) => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"folder-minus\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <Button variant=\"warning\" className=\"mr-3\" onClick={addSection}>\r\n              <FontIcon icon=\"folder-plus\" />\r\n              <b> Add section</b>\r\n            </Button>\r\n          }\r\n        />\r\n      </div>\r\n      <SectionsModal\r\n        sectionId={sectionId}\r\n        courseId={courseId}\r\n        closeModal={closeModal}\r\n      />\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n      <EmptyLine level=\"1\" />\r\n      {changeTab ? (\r\n        <Button\r\n          className={\"btn btn-success\"}\r\n          style={{ width: \"200px\" }}\r\n          type=\"button\"\r\n          onClick={finishCourse}\r\n        >\r\n          <b>Finish course</b>\r\n        </Button>\r\n      ) : (\r\n        <Link to={{ pathname: `/enter-course/${courseId}` }}>\r\n          <Button className={\"btn btn-info\"} style={{ width: \"200px\" }}>\r\n            <b>Preview</b>\r\n          </Button>\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { CourseModification } from \"../templates/CourseModification\";\r\nimport { CourseContent } from \"../templates/CourseContent\";\r\n\r\nexport function CourseAddingPage() {\r\n  const [tab, setTab] = useState(\"info\");\r\n\r\n  const changeTab = (newTab) => {\r\n    setTab(newTab);\r\n  };\r\n\r\n  if (tab === \"redirect\") return <Redirect push to=\"/my-courses\" />;\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">NEW COURSE</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      {tab === \"info\" ? (\r\n        <CourseModification courseId={null} changeTab={changeTab} />\r\n      ) : (\r\n        <CourseContent courseId={tab} changeTab={changeTab} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport const moduleInfoSchema = yup.object().shape({\r\n  name: yup.string().label(\"Name\").required(),\r\n  cat: yup.string().label(\"Category\").required(),\r\n});\r\n\r\nexport function ModuleModification({ moduleId, changeTab }) {\r\n  const auth = useAuth();\r\n\r\n  const [module, setModule] = useState({\r\n    name: \"\",\r\n    cat: \"\",\r\n    type: \"Info\",\r\n    author: auth.user,\r\n    limit: 0,\r\n    timer: \"None\",\r\n  });\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  function saveModuleInfo(values) {\r\n    setStatus(\"loading\");\r\n\r\n    if (moduleId) {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"modules/updateModuleInfo\", {\r\n          moduleId: moduleId,\r\n          name: values.name,\r\n          cat: values.cat,\r\n          type: values.type,\r\n          limit: values.limit,\r\n          timer: values.timer,\r\n        })\r\n        .then((res) => {\r\n          setStatus(\"success\");\r\n          setMessage(\"Module successfully updated\");\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    } else {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"modules/createNewModule\", {\r\n          name: values.name,\r\n          cat: values.cat,\r\n          type: values.type,\r\n          author: values.author,\r\n          limit: values.limit,\r\n          timer: values.timer,\r\n          withAccess: auth.token,\r\n        })\r\n        .then((res) => {\r\n          changeTab(res.data.data);\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (moduleId)\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"modules/getModule\", {\r\n          module: moduleId,\r\n        })\r\n        .then((res) => {\r\n          setModule(res.data.data);\r\n          setStatus(\"success\");\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    else setStatus(\"idle\");\r\n  }, [moduleId]);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Formik\r\n        initialValues={{\r\n          name: module.name,\r\n          cat: module.cat,\r\n          type: module.type,\r\n          author: module.author,\r\n          limit: module.limit,\r\n          timer: module.timer,\r\n        }}\r\n        onSubmit={(values, actions) => {\r\n          saveModuleInfo(values);\r\n        }}\r\n        validationSchema={moduleInfoSchema}\r\n        enableReinitialize\r\n      >\r\n        {(props) => (\r\n          <form onSubmit={props.handleSubmit}>\r\n            <div className=\"container\">\r\n              <div className=\"col mb-4\">\r\n                <b>Name (should be unique)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.name}\r\n                  style={\r\n                    props.errors.name\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"name\"\r\n                  placeholder=\"name\"\r\n                />\r\n                {props.errors.name && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.name}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"col mb-4\">\r\n                <b>Category (medical, technical, etc.)</b>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.cat}\r\n                  style={\r\n                    props.errors.cat\r\n                      ? {\r\n                          width: \"300px\",\r\n                          height: \"30px\",\r\n                          backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                        }\r\n                      : { width: \"300px\", height: \"30px\" }\r\n                  }\r\n                  name=\"cat\"\r\n                  placeholder=\"category\"\r\n                />\r\n                {props.errors.cat && (\r\n                  <>\r\n                    <br />\r\n                    <b className=\"text-danger\">{props.errors.cat}</b>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"col mb-4\">\r\n              <b>Type (either giving info or testing)</b>\r\n              <br />\r\n              <select\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.type}\r\n                style={{ width: \"300px\", height: \"30px\" }}\r\n                name=\"type\"\r\n              >\r\n                <option value=\"Info\">Info</option>\r\n                <option value=\"Test\">Test</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"col mb-4\">\r\n              <b>Time limit (in minutes, 0 means none)</b>\r\n              <br />\r\n              <input\r\n                type=\"number\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.limit}\r\n                min=\"0\"\r\n                max=\"1440\"\r\n                style={{ width: \"300px\", height: \"30px\" }}\r\n                name=\"limit\"\r\n              />\r\n            </div>\r\n            <div className=\"col mb-4\">\r\n              <b>Timer (multiple types)</b>\r\n              <br />\r\n              <select\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.timer}\r\n                style={{ width: \"300px\", height: \"30px\" }}\r\n                name=\"timer\"\r\n              >\r\n                <option value=\"None\">None (will not display any timer)</option>\r\n                <option value=\"Clock\">Clock (starting from 00:00:00)</option>\r\n                <option value=\"Countdown\" disabled={props.values.limit === 0}>\r\n                  Countdown (\"Time limit\" must not be 0)\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <EmptyLine level=\"2\" />\r\n            <div className=\"row justify-content-center\">\r\n              <Button\r\n                className={\"btn btn-primary\"}\r\n                style={{ width: \"250px\" }}\r\n                type=\"submit\"\r\n              >\r\n                <b>Save module info</b>\r\n              </Button>\r\n            </div>\r\n            <EmptyLine level=\"2\" />\r\n          </form>\r\n        )}\r\n      </Formik>\r\n      <EmptyLine level=\"1\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CKEditor from \"ckeditor4-react\";\r\nimport Modal from \"react-modal\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { Loading } from \"../molecules/Loading\";\r\n\r\nexport const moduleInfoSchema = yup.object().shape({\r\n  name: yup.string().label(\"Name\").required(),\r\n});\r\n\r\nexport function InfoSegmentsModal({ segmentId, moduleId, type, closeModal }) {\r\n  // TODO: Add other info segment types!\r\n\r\n  const defaultSegment = {\r\n    name: \"\",\r\n    rqmt: \"0\",\r\n    points: 0,\r\n    rnd: false,\r\n  };\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n  const [segment, setSegment] = useState(defaultSegment);\r\n  const [segmentData, setSegmentData] = useState(null);\r\n\r\n  const requiredTimeInfo =\r\n    \"Required time determines how many minutes your student \" +\r\n    \"must spend on this module in order to get the set \" +\r\n    \"number of points (0 means none).\";\r\n\r\n  const closeSegmentModal = (isExit) => {\r\n    setStatus(\"loading\");\r\n    setMessage(null);\r\n    setSegment(defaultSegment);\r\n    setSegmentData(null);\r\n    closeModal(isExit);\r\n  };\r\n\r\n  const saveSegment = (values) => {\r\n    setStatus(\"loading\");\r\n\r\n    if (segmentData) {\r\n      let newSegment = {\r\n        name: values.name,\r\n        sType: type,\r\n        rqmt: values.rqmt,\r\n        points: values.points,\r\n        data: segmentData,\r\n        rnd: false,\r\n      };\r\n\r\n      if (segmentId === \"new\") {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/addNewSegment\", {\r\n            moduleId: moduleId,\r\n            segment: newSegment,\r\n          })\r\n          .then((res) => {\r\n            closeSegmentModal(false);\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      } else {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/updateSegment\", {\r\n            segmentId: segmentId,\r\n            moduleId: moduleId,\r\n            segment: newSegment,\r\n          })\r\n          .then((res) => {\r\n            closeSegmentModal(false);\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      }\r\n    } else {\r\n      setStatus(\"error\");\r\n      setMessage(\"Data is a required field\");\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      minWidth: \"650px\",\r\n      maxHeight: \"calc(100vh - 100px)\",\r\n      marginRight: \"-50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      overflowY: \"auto\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (segmentId) {\r\n      if (segmentId !== \"new\") {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/getSegment\", {\r\n            moduleId: moduleId,\r\n            segmentId: segmentId,\r\n          })\r\n          .then((res) => {\r\n            setSegmentData(res.data.data.data);\r\n            setSegment(res.data.data);\r\n            setStatus(\"success\");\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      } else {\r\n        setSegmentData(\"\");\r\n        setStatus(\"idle\");\r\n      }\r\n    }\r\n  }, [moduleId, segmentId]);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={segmentId !== null}\r\n      onRequestClose={(e) => closeSegmentModal(true)}\r\n      style={customStyles}\r\n      ariaHideApp={false}\r\n    >\r\n      <div align=\"center\">\r\n        <EmptyLine level=\"2\" />\r\n        <Heading level=\"2\">\r\n          {segmentId === \"new\" ? \"ADD INFO SEGMENT\" : \"EDIT INFO SEGMENT\"}\r\n        </Heading>\r\n        <EmptyLine level=\"2\" />\r\n        <Formik\r\n          initialValues={{\r\n            name: segment.name,\r\n            sType: type,\r\n            rqmt: segment.rqmt,\r\n            points: segment.points,\r\n            rnd: false,\r\n          }}\r\n          onSubmit={(values, actions) => {\r\n            saveSegment(values);\r\n          }}\r\n          validationSchema={moduleInfoSchema}\r\n          enableReinitialize\r\n        >\r\n          {(props) => (\r\n            <form onSubmit={props.handleSubmit}>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Name (should be unique)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.name}\r\n                      style={\r\n                        props.errors.name\r\n                          ? {\r\n                              width: \"250px\",\r\n                              height: \"30px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"250px\", height: \"30px\" }\r\n                      }\r\n                      name=\"name\"\r\n                      placeholder=\"name\"\r\n                    />\r\n                    {props.errors.name && (\r\n                      <>\r\n                        <br />\r\n                        <b className=\"text-danger\">{props.errors.name}</b>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Type (next to \"Add\" button)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={props.values.sType}\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"sType\"\r\n                      placeholder=\"type\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Required time (in minutes)</b>{\" \"}\r\n                    <FontIcon icon=\"question-circle\" title={requiredTimeInfo} />\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.rqmt}\r\n                      min=\"0\"\r\n                      max=\"1440\"\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"rqmt\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Points (if requirement is met)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"number\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.points}\r\n                      min=\"0\"\r\n                      max=\"1000\"\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"points\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  {type === \"HTML\" ? (\r\n                    <div className=\"col mb-4\">\r\n                      <b>Data</b>\r\n                      <br />\r\n                      {segmentData || segmentId === \"new\" ? (\r\n                        <CKEditor\r\n                          onChange={(e) => setSegmentData(e.editor.getData())}\r\n                          onBlur={(e) => setSegmentData(e.editor.getData())}\r\n                          data={segmentData}\r\n                          name=\"data\"\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"col mb-4\">\r\n                      <b>Embedded Video Link</b>\r\n                      <br />\r\n                      <textarea\r\n                        onChange={(e) => setSegmentData(e.target.value)}\r\n                        onBlur={(e) => setSegmentData(e.target.value)}\r\n                        value={segmentData}\r\n                        style={{ width: \"555px\", height: \"150px\" }}\r\n                        name=\"data\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <EmptyLine level=\"2\" />\r\n                <Button\r\n                  className={\"btn btn-primary ml-2 mr-2\"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  <b>Save</b>\r\n                </Button>\r\n                <Button\r\n                  className={\"btn btn-secondary ml-2 mr-2 \"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"button\"\r\n                  onClick={closeSegmentModal}\r\n                >\r\n                  <b>Close</b>\r\n                </Button>\r\n              </div>\r\n              <EmptyLine level=\"2\" />\r\n              {status === \"loading\" ? (\r\n                <Loading />\r\n              ) : status === \"error\" ? (\r\n                <ErrorMessage error={message} />\r\n              ) : null}\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CKEditor from \"ckeditor4-react\";\r\nimport Modal from \"react-modal\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { Loading } from \"../molecules/Loading\";\r\n\r\nexport const moduleInfoSchema = yup.object().shape({\r\n  name: yup.string().label(\"Name\").required(),\r\n});\r\n\r\nexport function TestSegmentsModal({ segmentId, moduleId, type, closeModal }) {\r\n  // TODO: Add other test segment types!\r\n\r\n  const defaultSegment = {\r\n    name: \"\",\r\n    rqmt: \"\",\r\n    points: 0,\r\n    rnd: false,\r\n  };\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n  const [segment, setSegment] = useState(defaultSegment);\r\n  const [segmentQuestion, setSegmentQuestion] = useState(null);\r\n  const [segmentChoices, setSegmentChoices] = useState([\"\"]);\r\n  const [segmentAnswers, setSegmentAnswers] = useState([\"\"]);\r\n  const [segmentData, setSegmentData] = useState(null);\r\n\r\n  const addChoice = () => {\r\n    let updatedChoices = [...segmentChoices];\r\n    updatedChoices.push(\"\");\r\n\r\n    setSegmentChoices(updatedChoices);\r\n  };\r\n\r\n  const removeChoice = (index, segment) => {\r\n    let updatedChoices = [...segmentChoices];\r\n    let updatedAnswers = [...segmentAnswers];\r\n    let segmentIndex = updatedAnswers.indexOf(segment);\r\n\r\n    updatedChoices.splice(index, 1);\r\n    updatedAnswers.splice(segmentIndex, 1);\r\n\r\n    setSegmentChoices(updatedChoices);\r\n    if (segmentIndex >= 0) {\r\n      setSegmentAnswers(updatedAnswers);\r\n    }\r\n  };\r\n\r\n  const updateAnswer = (segment, isChecked) => {\r\n    let updatedAnswers = [...segmentAnswers];\r\n\r\n    if (isChecked) {\r\n      if (segment) {\r\n        updatedAnswers.push(segment);\r\n        setStatus(\"idle\");\r\n      } else {\r\n        setMessage(\"Empty choice cannot be among correct answers\");\r\n        setStatus(\"error\");\r\n      }\r\n    } else {\r\n      updatedAnswers = updatedAnswers.filter((e) => e !== segment);\r\n    }\r\n\r\n    setSegmentAnswers(updatedAnswers);\r\n  };\r\n\r\n  const updateAnswers = (segment) => {\r\n    if (segment) {\r\n      setSegmentAnswers([segment]);\r\n      setStatus(\"idle\");\r\n    } else {\r\n      setMessage(\"Empty choice cannot be the correct answer\");\r\n      setStatus(\"error\");\r\n    }\r\n  };\r\n\r\n  const updateChoice = (index, value) => {\r\n    let updatedChoices = [...segmentChoices];\r\n    let updatedAnswers = [...segmentAnswers];\r\n    let answerIndex = updatedAnswers.indexOf(updatedChoices[index]);\r\n\r\n    updatedChoices[index] = value;\r\n    updatedAnswers[answerIndex] = value;\r\n\r\n    setSegmentChoices(updatedChoices);\r\n    setSegmentAnswers(updatedAnswers);\r\n  };\r\n\r\n  const closeSegmentModal = (isExit) => {\r\n    setStatus(\"loading\");\r\n    setMessage(null);\r\n    setSegment(defaultSegment);\r\n    setSegmentQuestion(null);\r\n    setSegmentChoices([\"\"]);\r\n    setSegmentAnswers([\"\"]);\r\n    setSegmentData(null);\r\n    closeModal(isExit);\r\n  };\r\n\r\n  const saveSegment = (values) => {\r\n    setStatus(\"loading\");\r\n\r\n    if (segmentData || segmentQuestion) {\r\n      let segmentContent = segmentData;\r\n      let answers = values.rqmt;\r\n\r\n      if (\r\n        values.sType === \"One correct choice\" ||\r\n        values.sType === \"Multiple correct choices\"\r\n      ) {\r\n        segmentContent = \"\";\r\n        segmentContent += segmentQuestion;\r\n        segmentContent += \";;;\";\r\n\r\n        segmentChoices.forEach(function (entry) {\r\n          segmentContent += entry;\r\n          segmentContent += \";;;\";\r\n        });\r\n\r\n        if (segmentAnswers) {\r\n          answers = \"\";\r\n          segmentAnswers.forEach(function (entry) {\r\n            if (entry) {\r\n              answers += entry;\r\n              answers += \";;;\";\r\n            }\r\n          });\r\n        }\r\n\r\n        if (type === \"One correct choice\" && answers === \"\") {\r\n          setMessage(\"One answer is required\");\r\n          setStatus(\"error\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      let newSegment = {\r\n        name: values.name,\r\n        sType: type,\r\n        rqmt: type === \"HTML\" ? \"0\" : answers,\r\n        points: values.points,\r\n        data: segmentContent,\r\n        rnd: values.rnd,\r\n      };\r\n\r\n      if (segmentId === \"new\") {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/addNewSegment\", {\r\n            moduleId: moduleId,\r\n            segment: newSegment,\r\n          })\r\n          .then((res) => {\r\n            closeSegmentModal(false);\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      } else {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/updateSegment\", {\r\n            segmentId: segmentId,\r\n            moduleId: moduleId,\r\n            segment: newSegment,\r\n          })\r\n          .then((res) => {\r\n            closeSegmentModal(false);\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      }\r\n    } else {\r\n      setStatus(\"error\");\r\n\r\n      if (values.sType === \"HTML\") {\r\n        setMessage(\"Data is a required field\");\r\n      } else {\r\n        setMessage(\"Question is a required field\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      minWidth: \"650px\",\r\n      maxHeight: \"calc(100vh - 100px)\",\r\n      marginRight: \"-50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      overflowY: \"auto\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (segmentId) {\r\n      if (segmentId !== \"new\") {\r\n        globalApiInstance\r\n          .post(process.env.REACT_APP_BASE_API + \"modules/getSegment\", {\r\n            moduleId: moduleId,\r\n            segmentId: segmentId,\r\n          })\r\n          .then((res) => {\r\n            if (\r\n              res.data.data.sType === \"One correct choice\" ||\r\n              res.data.data.sType === \"Multiple correct choices\"\r\n            ) {\r\n              const multiData = res.data.data.data;\r\n              const multiRqmt = res.data.data.rqmt;\r\n\r\n              const multiQuestion = multiData.split(\";;;\")[0];\r\n              const multiChoices = multiData.split(\";;;\").slice(1, -1);\r\n              const multiAnswers = multiRqmt.split(\";;;\").slice(0, -1);\r\n\r\n              setSegmentQuestion(multiQuestion);\r\n              setSegmentChoices(multiChoices);\r\n              setSegmentAnswers(multiAnswers);\r\n            }\r\n\r\n            setSegmentData(res.data.data.data);\r\n            setSegment(res.data.data);\r\n            setStatus(\"success\");\r\n          })\r\n          .catch((err) => {\r\n            setStatus(\"error\");\r\n            setMessage(err.message);\r\n          });\r\n      } else {\r\n        setSegmentData(\"\");\r\n        setStatus(\"idle\");\r\n      }\r\n    }\r\n  }, [moduleId, segmentId]);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={segmentId !== null}\r\n      onRequestClose={(e) => closeSegmentModal(true)}\r\n      style={customStyles}\r\n      ariaHideApp={false}\r\n    >\r\n      <div align=\"center\">\r\n        <EmptyLine level=\"2\" />\r\n        <Heading level=\"2\">\r\n          {segmentId === \"new\" ? \"ADD TEST SEGMENT\" : \"EDIT TEST SEGMENT\"}\r\n        </Heading>\r\n        <EmptyLine level=\"2\" />\r\n        <Formik\r\n          initialValues={{\r\n            name: segment.name,\r\n            sType: type,\r\n            rqmt: segment.rqmt,\r\n            points: segment.points,\r\n            rnd: segment.rnd,\r\n          }}\r\n          onSubmit={(values, actions) => {\r\n            saveSegment(values);\r\n          }}\r\n          validationSchema={moduleInfoSchema}\r\n          enableReinitialize\r\n        >\r\n          {(props) => (\r\n            <form onSubmit={props.handleSubmit}>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col mb-4\">\r\n                    <b>Name (should be unique)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      onChange={props.handleChange}\r\n                      onBlur={props.handleBlur}\r\n                      value={props.values.name}\r\n                      style={\r\n                        props.errors.name\r\n                          ? {\r\n                              width: \"250px\",\r\n                              height: \"30px\",\r\n                              backgroundColor: \"rgba(255,0,0,0.2)\",\r\n                            }\r\n                          : { width: \"250px\", height: \"30px\" }\r\n                      }\r\n                      name=\"name\"\r\n                      placeholder=\"name\"\r\n                    />\r\n                    {props.errors.name && (\r\n                      <>\r\n                        <br />\r\n                        <b className=\"text-danger\">{props.errors.name}</b>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"col mb-4\">\r\n                    <b>Type (next to \"Add\" button)</b>\r\n                    <br />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={props.values.sType}\r\n                      style={{ width: \"250px\", height: \"30px\" }}\r\n                      name=\"sType\"\r\n                      placeholder=\"category\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {type === \"Text answer\" ? (\r\n                  <div className=\"row\">\r\n                    <div className=\"col mb-4\">\r\n                      <b>Question</b>\r\n                      <br />\r\n                      {segmentData || segmentId === \"new\" ? (\r\n                        <CKEditor\r\n                          onChange={(e) => setSegmentData(e.editor.getData())}\r\n                          onBlur={(e) => setSegmentData(e.editor.getData())}\r\n                          data={segmentData}\r\n                          name=\"data\"\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                ) : type === \"One correct choice\" ||\r\n                  type === \"Multiple correct choices\" ? (\r\n                  <>\r\n                    <div className=\"row\">\r\n                      <div className=\"col mb-4\">\r\n                        <b>Question</b>\r\n                        <br />\r\n                        {segmentQuestion || segmentId === \"new\" ? (\r\n                          <CKEditor\r\n                            onChange={(e) =>\r\n                              setSegmentQuestion(e.editor.getData())\r\n                            }\r\n                            onBlur={(e) =>\r\n                              setSegmentQuestion(e.editor.getData())\r\n                            }\r\n                            data={segmentQuestion}\r\n                            name=\"question\"\r\n                          />\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col mb-2\">\r\n                        <b>\r\n                          Choices (check correct answer\r\n                          {type === \"Multiple correct choices\" ? \"s)\" : \")\"}\r\n                        </b>\r\n                        <br />\r\n                        {segmentChoices.map((seg, i) => (\r\n                          <div key={i}>\r\n                            {type === \"One correct choice\" ? (\r\n                              <input\r\n                                type=\"radio\"\r\n                                onChange={(e) => updateAnswers(seg)}\r\n                                name=\"radio-boxes\"\r\n                                checked={seg && segmentAnswers.includes(seg)}\r\n                                style={{ width: \"15px\", height: \"15px\" }}\r\n                              />\r\n                            ) : (\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                onChange={(e) =>\r\n                                  updateAnswer(seg, e.target.checked)\r\n                                }\r\n                                name=\"checkbox-boxes\"\r\n                                checked={seg && segmentAnswers.includes(seg)}\r\n                                style={{ width: \"15px\", height: \"15px\" }}\r\n                              />\r\n                            )}\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"ml-2 mb-1\"\r\n                              onChange={(e) => updateChoice(i, e.target.value)}\r\n                              onBlur={(e) => updateChoice(i, e.target.value)}\r\n                              value={seg}\r\n                              style={{ width: \"480px\", height: \"38px\" }}\r\n                              placeholder={\"choice \" + (i + 1)}\r\n                            />\r\n                            <Button\r\n                              className={\"btn btn-danger ml-2\"}\r\n                              type=\"button\"\r\n                              disabled={segmentChoices.length === 1}\r\n                              onClick={(e) => removeChoice(i, seg)}\r\n                            >\r\n                              <FontIcon icon=\"minus\" />\r\n                            </Button>\r\n                          </div>\r\n                        ))}\r\n                        <Button\r\n                          className={\"btn btn-success\"}\r\n                          style={{ width: \"200px\" }}\r\n                          type=\"button\"\r\n                          onClick={addChoice}\r\n                        >\r\n                          <b>Insert</b>\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col mb-4\">\r\n                        <input\r\n                          className=\"mr-2\"\r\n                          type=\"checkbox\"\r\n                          onChange={props.handleChange}\r\n                          checked={props.values.rnd}\r\n                          style={{ width: \"15px\", height: \"15px\" }}\r\n                          name=\"rnd\"\r\n                        />\r\n                        <b>\r\n                          <i>\r\n                            Check this if you want the order of choices to be\r\n                            randomized\r\n                          </i>\r\n                        </b>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                ) : null}\r\n                {type === \"HTML\" ? (\r\n                  <div className=\"row\">\r\n                    <div className=\"col mb-4\">\r\n                      <b>Data</b>\r\n                      <br />\r\n                      {segmentData || segmentId === \"new\" ? (\r\n                        <CKEditor\r\n                          onChange={(e) => setSegmentData(e.editor.getData())}\r\n                          onBlur={(e) => setSegmentData(e.editor.getData())}\r\n                          data={segmentData}\r\n                          name=\"data\"\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"row\">\r\n                    {type === \"Text answer\" ? (\r\n                      <div className=\"col mb-4\">\r\n                        <b>Correct answer</b>\r\n                        <br />\r\n                        <input\r\n                          type=\"text\"\r\n                          onChange={props.handleChange}\r\n                          onBlur={props.handleBlur}\r\n                          value={props.values.rqmt}\r\n                          style={{ width: \"250px\", height: \"30px\" }}\r\n                          name=\"rqmt\"\r\n                          placeholder=\"put correct answer here\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"col mb-4\">\r\n                        <b>\r\n                          Selected correct answer\r\n                          {type === \"Multiple correct choices\" ? \"s\" : \"\"}\r\n                        </b>\r\n                        <br />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={segmentAnswers}\r\n                          style={{ width: \"250px\", height: \"30px\" }}\r\n                          name=\"answers\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"col mb-4\">\r\n                      <b>Points (if answered correctly)</b>\r\n                      <br />\r\n                      <input\r\n                        type=\"number\"\r\n                        onChange={props.handleChange}\r\n                        onBlur={props.handleBlur}\r\n                        value={props.values.points}\r\n                        min=\"0\"\r\n                        max=\"1000\"\r\n                        style={{ width: \"250px\", height: \"30px\" }}\r\n                        name=\"points\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <EmptyLine level=\"2\" />\r\n                <Button\r\n                  className={\"btn btn-primary ml-2 mr-2\"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  <b>Save</b>\r\n                </Button>\r\n                <Button\r\n                  className={\"btn btn-secondary ml-2 mr-2 \"}\r\n                  style={{ width: \"200px\" }}\r\n                  type=\"button\"\r\n                  onClick={closeSegmentModal}\r\n                >\r\n                  <b>Close</b>\r\n                </Button>\r\n              </div>\r\n              <EmptyLine level=\"2\" />\r\n              {status === \"loading\" ? (\r\n                <Loading />\r\n              ) : status === \"error\" ? (\r\n                <ErrorMessage error={message} />\r\n              ) : null}\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\nimport { InfoSegmentsModal } from \"../organisms/InfoSegmentsModal\";\r\nimport { TestSegmentsModal } from \"../organisms/TestSegmentsModal\";\r\n\r\nexport function ModuleContent({ moduleId, changeTab }) {\r\n  const [segmentId, setSegmentId] = useState(null);\r\n\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [type, setType] = useState(null);\r\n  const [segmentType, setSegmentType] = useState(\"HTML\");\r\n  const [segments, setSegments] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const closeModal = (isExit) => {\r\n    setSegmentId(null);\r\n    setStatus(\"idle\");\r\n    if (!isExit) setFetchSignal(!fetchSignal);\r\n  };\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/getModule\", {\r\n        module: moduleId,\r\n      })\r\n      .then((res) => {\r\n        setType(res.data.data.type);\r\n        setSegments(res.data.data.content);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [moduleId, fetchSignal]);\r\n\r\n  const finishModule = () => {\r\n    changeTab(\"redirect\");\r\n  };\r\n\r\n  const removeSegments = (rows) => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/removeSegments\", {\r\n        module: moduleId,\r\n        selectedSegments: rows,\r\n      })\r\n      .then((res) => {\r\n        setMessage(\"Segment(s) successfully removed\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (row) => {\r\n    swal({\r\n      title: \"Do you want to remove this part?\",\r\n      text: \"You are about to remove this part. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeSegments([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to remove these parts?\",\r\n      text: \"You are about to remove these parts. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeSegments(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const addSegment = () => {\r\n    setSegmentId(\"new\");\r\n  };\r\n\r\n  const handleEdit = (row) => {\r\n    setSegmentType(row.sType);\r\n    setSegmentId(row._id);\r\n  };\r\n\r\n  const updateSegmentsOrder = (segments) => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/updateSegmentsOrder\", {\r\n        moduleId: moduleId,\r\n        segments: segments,\r\n      })\r\n      .then((res) => {\r\n        setFetchSignal(!fetchSignal);\r\n        setMessage(\"Segment successfully moved\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const moveUp = (row) => {\r\n    setStatus(\"loading\");\r\n\r\n    let currentPos = segments.indexOf(row);\r\n    segments[currentPos] = segments[currentPos - 1];\r\n    segments[currentPos - 1] = row;\r\n\r\n    updateSegmentsOrder(segments);\r\n  };\r\n\r\n  const moveDown = (row) => {\r\n    setStatus(\"loading\");\r\n\r\n    let currentPos = segments.indexOf(row);\r\n    segments[currentPos] = segments[currentPos + 1];\r\n    segments[currentPos + 1] = row;\r\n\r\n    updateSegmentsOrder(segments);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Type\",\r\n      selector: \"sType\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Required time\",\r\n      selector: \"rqmt\",\r\n      sortable: true,\r\n      wrap: true,\r\n      omit: type !== \"Info\",\r\n    },\r\n    {\r\n      name: \"Points\",\r\n      selector: \"points\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <div>\r\n          <Button\r\n            variant=\"primary\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => handleEdit(row)}\r\n          >\r\n            <FontIcon icon=\"folder-open\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => handleRemove(row)}\r\n          >\r\n            <FontIcon icon=\"folder-minus\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => moveDown(row)}\r\n            disabled={segments.indexOf(row) === segments.length - 1}\r\n          >\r\n            <FontIcon icon=\"long-arrow-alt-down\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            className=\"ml-1 mr-1\"\r\n            onClick={(e) => moveUp(row)}\r\n            disabled={segments.indexOf(row) === 0}\r\n          >\r\n            <FontIcon icon=\"long-arrow-alt-up\" />\r\n          </Button>\r\n        </div>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: \"220px\",\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={segments}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={\"This module is currently empty\"}\r\n          selectableRows\r\n          subHeader\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={(state) => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"folder-minus\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <>\r\n              <select\r\n                className=\"mr-3\"\r\n                style={{ width: \"250px\", height: \"30px\" }}\r\n                value={segmentType}\r\n                onChange={(e) => setSegmentType(e.target.value)}\r\n              >\r\n                <option value=\"HTML\">HTML</option>\r\n                {type === \"Info\" ? (\r\n                  <option value=\"Video or media\">Video or media</option>\r\n                ) : (\r\n                  <>\r\n                    <option value=\"One correct choice\">\r\n                      One correct choice\r\n                    </option>\r\n                    <option value=\"Multiple correct choices\">\r\n                      Multiple correct choices\r\n                    </option>\r\n                    <option value=\"Text answer\">Text answer</option>\r\n                  </>\r\n                )}\r\n              </select>\r\n              <Button variant=\"warning\" className=\"mr-3\" onClick={addSegment}>\r\n                <FontIcon icon=\"folder-plus\" />\r\n                <b> Add segment</b>\r\n              </Button>\r\n            </>\r\n          }\r\n        />\r\n      </div>\r\n      {type === \"Info\" ? (\r\n        <InfoSegmentsModal\r\n          segmentId={segmentId}\r\n          moduleId={moduleId}\r\n          type={segmentType}\r\n          closeModal={closeModal}\r\n        />\r\n      ) : (\r\n        <TestSegmentsModal\r\n          segmentId={segmentId}\r\n          moduleId={moduleId}\r\n          type={segmentType}\r\n          closeModal={closeModal}\r\n        />\r\n      )}\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n      <EmptyLine level=\"1\" />\r\n      {changeTab ? (\r\n        <Button\r\n          className={\"btn btn-success\"}\r\n          style={{ width: \"200px\" }}\r\n          type=\"button\"\r\n          onClick={finishModule}\r\n        >\r\n          <b>Finish module</b>\r\n        </Button>\r\n      ) : (\r\n        <Link to={{ pathname: `/enter-module/${moduleId}` }}>\r\n          <Button className={\"btn btn-info\"} style={{ width: \"200px\" }}>\r\n            <b>Preview</b>\r\n          </Button>\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ModuleModification } from \"../templates/ModuleModification\";\r\nimport { ModuleContent } from \"../templates/ModuleContent\";\r\n\r\nexport function ModuleAddingPage() {\r\n  const [tab, setTab] = useState(\"info\");\r\n\r\n  const changeTab = newTab => {\r\n    setTab(newTab);\r\n  };\r\n\r\n  if (tab === \"redirect\") return <Redirect push to=\"/my-modules\" />;\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">NEW MODULE</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      {tab === \"info\" ? (\r\n        <ModuleModification moduleId={null} changeTab={changeTab} />\r\n      ) : (\r\n        <ModuleContent moduleId={tab} changeTab={changeTab} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport function CourseStudents({ courseId }) {\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [student, setStudent] = useState(\"\");\r\n  const [students, setStudents] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/getUsersWithAccess\", {\r\n        course: courseId,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.data.access.length > 0)\r\n          globalApiInstance\r\n            .post(process.env.REACT_APP_BASE_API + \"users/getSelectedUsers\", {\r\n              tokens: res.data.data.access,\r\n            })\r\n            .then((res) => {\r\n              if (res.data.data) {\r\n                let users = [];\r\n\r\n                res.data.data.forEach(function (entry) {\r\n                  if (entry.mail !== auth.user) {\r\n                    let points = 0;\r\n\r\n                    if (entry.progress && entry.progress.length > 0) {\r\n                      let progress = entry.progress.find(\r\n                        (obj) => obj.course === courseId\r\n                      );\r\n\r\n                      if (progress) {\r\n                        progress.rewards.forEach(function (entry) {\r\n                          points += entry.points;\r\n                        });\r\n                      }\r\n                    }\r\n\r\n                    let user = {\r\n                      name: entry.name,\r\n                      mail: entry.mail,\r\n                      token: entry.token,\r\n                      points: points,\r\n                    };\r\n\r\n                    users.push(user);\r\n                  }\r\n                });\r\n\r\n                setStudents(users);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              setStatus(\"error\");\r\n              setMessage(err.message);\r\n            });\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [courseId, auth.user, fetchSignal]);\r\n\r\n  const removeUsers = (rows) => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/removeStudents\", {\r\n        course: courseId,\r\n        selectedUsers: rows,\r\n      })\r\n      .then((res) => {\r\n        setMessage(\"User(s) successfully removed\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch((err) => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleRemove = (row) => {\r\n    swal({\r\n      title: \"Do you want to remove this user?\",\r\n      text: \"You are about to remove this user. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeUsers([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to remove these users?\",\r\n      text: \"You are about to remove these users. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"],\r\n    }).then(function (isConfirm) {\r\n      if (isConfirm) {\r\n        removeUsers(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const addStudent = () => {\r\n    setStatus(\"loading\");\r\n\r\n    if (!student) {\r\n      setStatus(\"error\");\r\n      setMessage(\"E-mail of the student to be added is a required field\");\r\n    } else if (student === auth.user) {\r\n      setStatus(\"error\");\r\n      setMessage(\"You already have access to this module\");\r\n    } else if (students.find((obj) => obj.mail === student)) {\r\n      setStatus(\"error\");\r\n      setMessage(\"User with this e-mail already has access to this module\");\r\n    } else {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"users/getUserToken\", {\r\n          mail: student,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.data) {\r\n            globalApiInstance\r\n              .post(process.env.REACT_APP_BASE_API + \"courses/giveAccess\", {\r\n                course: courseId,\r\n                user: res.data.data.token,\r\n              })\r\n              .then((res) => {\r\n                setMessage(\"Student successfully added\");\r\n                setFetchSignal(!fetchSignal);\r\n              })\r\n              .catch((err) => {\r\n                setStatus(\"error\");\r\n                setMessage(err.message);\r\n              });\r\n          } else {\r\n            setStatus(\"error\");\r\n            setMessage(\"Student with this e-mail does not exist\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"E-mail\",\r\n      selector: \"mail\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Points\",\r\n      selector: \"points\",\r\n      sortable: true,\r\n      wrap: true,\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <Button\r\n          variant=\"danger\"\r\n          className=\"ml-1 mr-1\"\r\n          onClick={(e) => handleRemove(row)}\r\n        >\r\n          <FontIcon icon=\"user-slash\" />\r\n        </Button>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: \"100px\",\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={students}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={\"No users have access to this course\"}\r\n          selectableRows\r\n          subHeader\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={(state) => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"user-slash\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <>\r\n              <input\r\n                type=\"text\"\r\n                className=\"mr-3\"\r\n                style={{ width: \"250px\", height: \"30px\" }}\r\n                placeholder=\"e-mail of the student to be added\"\r\n                value={student}\r\n                onChange={(e) => setStudent(e.target.value)}\r\n              />\r\n              <Button variant=\"success\" className=\"mr-3\" onClick={addStudent}>\r\n                <FontIcon icon=\"user-plus\" />\r\n                <b> Add student</b>\r\n              </Button>\r\n            </>\r\n          }\r\n        />\r\n      </div>\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { CourseModification } from \"../templates/CourseModification\";\r\nimport { CourseStudents } from \"../templates/CourseStudents\";\r\nimport { CourseContent } from \"../templates/CourseContent\";\r\n\r\nexport function CourseEditingPage(props) {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">EDIT COURSE</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      <nav>\r\n        <div\r\n          className=\"nav nav-tabs justify-content-center\"\r\n          id=\"nav-tab\"\r\n          role=\"tablist\"\r\n        >\r\n          <a\r\n            className=\"nav-item nav-link active\"\r\n            id=\"info-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#info\"\r\n            role=\"tab\"\r\n            aria-controls=\"info\"\r\n            aria-selected=\"true\"\r\n          >\r\n            Course info\r\n          </a>\r\n          <a\r\n            className=\"nav-item nav-link\"\r\n            id=\"students-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#students\"\r\n            role=\"tab\"\r\n            aria-controls=\"students\"\r\n            aria-selected=\"false\"\r\n          >\r\n            Students\r\n          </a>\r\n          <a\r\n            className=\"nav-item nav-link\"\r\n            id=\"content-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#content\"\r\n            role=\"tab\"\r\n            aria-controls=\"content\"\r\n            aria-selected=\"false\"\r\n          >\r\n            Course content\r\n          </a>\r\n        </div>\r\n      </nav>\r\n      <div className=\"tab-content\" id=\"nav-tabContent\">\r\n        <div\r\n          className=\"tab-pane fade show active\"\r\n          id=\"info\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"info-tab\"\r\n        >\r\n          <EmptyLine level=\"2\" />\r\n          <p className=\"text-danger\">\r\n            <b>\r\n              <i>\r\n                * If you want your changes to be saved, remember to click on\r\n                save button\r\n              </i>\r\n            </b>\r\n          </p>\r\n          <EmptyLine level=\"1\" />\r\n          <CourseModification courseId={props.match.params.course} />\r\n        </div>\r\n        <div\r\n          className=\"tab-pane fade\"\r\n          id=\"students\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"students-tab\"\r\n        >\r\n          <CourseStudents courseId={props.match.params.course} />\r\n        </div>\r\n        <div\r\n          className=\"tab-pane fade\"\r\n          id=\"content\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"content-tab\"\r\n        >\r\n          <CourseContent\r\n            courseId={props.match.params.course}\r\n            changeTab={null}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { FontIcon } from \"../atoms/FontIcon\";\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport function ModuleUsers({ moduleId }) {\r\n  const [fetchSignal, setFetchSignal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [user, setUser] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/getUsersWithAccess\", {\r\n        module: moduleId\r\n      })\r\n      .then(res => {\r\n        if (res.data.data.access.length > 0)\r\n          globalApiInstance\r\n            .post(process.env.REACT_APP_BASE_API + \"users/getSelectedUsers\", {\r\n              tokens: res.data.data.access\r\n            })\r\n            .then(res => {\r\n              if (res.data.data) {\r\n                let results = [];\r\n\r\n                res.data.data.forEach(function(entry) {\r\n                  if (entry.mail !== auth.user) {\r\n                    let result = {\r\n                      name: entry.name,\r\n                      mail: entry.mail,\r\n                      token: entry.token\r\n                    };\r\n\r\n                    results.push(result);\r\n                  }\r\n                });\r\n\r\n                setUsers(results);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              setStatus(\"error\");\r\n              setMessage(err.message);\r\n            });\r\n        setStatus(\"success\");\r\n      })\r\n      .catch(err => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [moduleId, auth.user, fetchSignal]);\r\n\r\n  const removeUsers = rows => {\r\n    setStatus(\"loading\");\r\n\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"modules/removeUsers\", {\r\n        module: moduleId,\r\n        selectedUsers: rows\r\n      })\r\n      .then(res => {\r\n        setMessage(\"User(s) successfully removed\");\r\n        setFetchSignal(!fetchSignal);\r\n        setSelected(null);\r\n      })\r\n      .catch(err => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  };\r\n\r\n  const handleRemove = row => {\r\n    swal({\r\n      title: \"Do you want to remove this user?\",\r\n      text: \"You are about to remove this user. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"]\r\n    }).then(function(isConfirm) {\r\n      if (isConfirm) {\r\n        removeUsers([row]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleRemoveAll = () => {\r\n    swal({\r\n      title: \"Do you want to remove these users?\",\r\n      text: \"You are about to remove these users. Are you sure about it?\",\r\n      icon: \"warning\",\r\n      buttons: [\"No\", \"Yes\"]\r\n    }).then(function(isConfirm) {\r\n      if (isConfirm) {\r\n        removeUsers(selected);\r\n      }\r\n    });\r\n  };\r\n\r\n  const addUser = () => {\r\n    setStatus(\"loading\");\r\n\r\n    if (!user) {\r\n      setStatus(\"error\");\r\n      setMessage(\"E-mail of the user to be added is a required field\");\r\n    } else if (user === auth.user) {\r\n      setStatus(\"error\");\r\n      setMessage(\"You already have access to this module\");\r\n    } else if (users.find(obj => obj.mail === user)) {\r\n      setStatus(\"error\");\r\n      setMessage(\"User with this e-mail already has access to this module\");\r\n    } else {\r\n      globalApiInstance\r\n        .post(process.env.REACT_APP_BASE_API + \"users/getUserToken\", {\r\n          mail: user\r\n        })\r\n        .then(res => {\r\n          if (res.data.data) {\r\n            globalApiInstance\r\n              .post(process.env.REACT_APP_BASE_API + \"modules/giveAccess\", {\r\n                module: moduleId,\r\n                user: res.data.data.token\r\n              })\r\n              .then(res => {\r\n                setMessage(\"User successfully added\");\r\n                setFetchSignal(!fetchSignal);\r\n              })\r\n              .catch(err => {\r\n                setStatus(\"error\");\r\n                setMessage(err.message);\r\n              });\r\n          } else {\r\n            setStatus(\"error\");\r\n            setMessage(\"User with this e-mail does not exist\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          setStatus(\"error\");\r\n          setMessage(err.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"Name\",\r\n      selector: \"name\",\r\n      sortable: true,\r\n      wrap: true\r\n    },\r\n    {\r\n      name: \"E-mail\",\r\n      selector: \"mail\",\r\n      sortable: true,\r\n      wrap: true\r\n    },\r\n    {\r\n      name: \"Actions\",\r\n      cell: row => (\r\n        <Button\r\n          variant=\"danger\"\r\n          className=\"ml-1 mr-1\"\r\n          onClick={e => handleRemove(row)}\r\n        >\r\n          <FontIcon icon=\"user-slash\" />\r\n        </Button>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      minWidth: \"100px\",\r\n      button: true\r\n    }\r\n  ];\r\n\r\n  const customStyle = {\r\n    headCells: {\r\n      style: {\r\n        fontSize: \"16px\"\r\n      }\r\n    },\r\n    cells: {\r\n      style: {\r\n        fontSize: \"14px\"\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <div className=\"w-responsive pl-5 pr-5\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={users}\r\n          customStyles={customStyle}\r\n          highlightOnHover\r\n          responsive\r\n          pagination\r\n          noDataComponent={\"No users have access to this module\"}\r\n          selectableRows\r\n          subHeader\r\n          subHeaderAlign=\"right\"\r\n          onSelectedRowsChange={state => setSelected(state.selectedRows)}\r\n          clearSelectedRows={fetchSignal}\r\n          contextActions={\r\n            <Button variant=\"danger\" className=\"mr-3\" onClick={handleRemoveAll}>\r\n              <FontIcon icon=\"user-slash\" />\r\n              <b> Remove</b>\r\n            </Button>\r\n          }\r\n          subHeaderComponent={\r\n            <>\r\n              <input\r\n                type=\"text\"\r\n                className=\"mr-3\"\r\n                style={{ width: \"250px\", height: \"30px\" }}\r\n                placeholder=\"e-mail of the user to be added\"\r\n                value={user}\r\n                onChange={e => setUser(e.target.value)}\r\n              />\r\n              <Button variant=\"success\" className=\"mr-3\" onClick={addUser}>\r\n                <FontIcon icon=\"user-plus\" />\r\n                <b> Add user</b>\r\n              </Button>\r\n            </>\r\n          }\r\n        />\r\n      </div>\r\n      <EmptyLine level=\"2\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ModuleModification } from \"../templates/ModuleModification\";\r\nimport { ModuleUsers } from \"../templates/ModuleUsers\";\r\nimport { ModuleContent } from \"../templates/ModuleContent\";\r\n\r\nexport function ModuleEditingPage(props) {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">EDIT MODULE</Heading>\r\n      <EmptyLine level=\"2\" />\r\n      <nav>\r\n        <div\r\n          className=\"nav nav-tabs justify-content-center\"\r\n          id=\"nav-tab\"\r\n          role=\"tablist\"\r\n        >\r\n          <a\r\n            className=\"nav-item nav-link active\"\r\n            id=\"info-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#info\"\r\n            role=\"tab\"\r\n            aria-controls=\"info\"\r\n            aria-selected=\"true\"\r\n          >\r\n            Module info\r\n          </a>\r\n          <a\r\n            className=\"nav-item nav-link\"\r\n            id=\"users-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#users\"\r\n            role=\"tab\"\r\n            aria-controls=\"users\"\r\n            aria-selected=\"false\"\r\n          >\r\n            Users with access\r\n          </a>\r\n          <a\r\n            className=\"nav-item nav-link\"\r\n            id=\"content-tab\"\r\n            data-toggle=\"tab\"\r\n            href=\"#content\"\r\n            role=\"tab\"\r\n            aria-controls=\"content\"\r\n            aria-selected=\"false\"\r\n          >\r\n            Module content\r\n          </a>\r\n        </div>\r\n      </nav>\r\n      <div className=\"tab-content\" id=\"nav-tabContent\">\r\n        <div\r\n          className=\"tab-pane fade show active\"\r\n          id=\"info\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"info-tab\"\r\n        >\r\n          <EmptyLine level=\"2\" />\r\n          <p className=\"text-danger\">\r\n            <b>\r\n              <i>\r\n                * If you want your changes to be saved, remember to click on\r\n                save button\r\n              </i>\r\n            </b>\r\n          </p>\r\n          <EmptyLine level=\"1\" />\r\n          <ModuleModification\r\n            moduleId={props.match.params.module}\r\n            changeTab={null}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"tab-pane fade\"\r\n          id=\"users\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"users-tab\"\r\n        >\r\n          <ModuleUsers moduleId={props.match.params.module} changeTab={null} />\r\n        </div>\r\n        <div\r\n          className=\"tab-pane fade\"\r\n          id=\"content\"\r\n          role=\"tabpanel\"\r\n          aria-labelledby=\"content-tab\"\r\n        >\r\n          <ModuleContent\r\n            moduleId={props.match.params.module}\r\n            changeTab={null}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { CoursesTable } from \"../templates/CoursesTable\";\r\n\r\nexport function MyCoursesPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">MY COURSES</Heading>\r\n      <br />\r\n      <CoursesTable\r\n        isEditable={true}\r\n        noCoursesMessage=\"You have not created any courses yet\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { ModulesTable } from \"../templates/ModulesTable\";\r\n\r\nexport function MyModulesPage() {\r\n  return (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">MY MODULES</Heading>\r\n      <br />\r\n      <ModulesTable\r\n        isEditable={true}\r\n        noModulesMessage=\"You have not created any modules yet\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport { globalApiInstance } from \"../../utils/api\";\r\n\r\nimport { Button } from \"../atoms/Button\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ServerStatus } from \"../organisms/ServerStatus\";\r\n\r\nexport function Invitation({ user, link }) {\r\n  const [invite, setInvite] = useState([]);\r\n\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [message, setMessage] = useState(null);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  useEffect(() => {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"invites/getInviteLink\", {\r\n        link: link\r\n      })\r\n      .then(res => {\r\n        setStatus(\"idle\");\r\n        setInvite(res.data.data);\r\n      })\r\n      .catch(err => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n  }, [link]);\r\n\r\n  function giveAccess() {\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/giveAccess\", {\r\n        course: invite.courseId,\r\n        user: user\r\n      })\r\n      .then(res => {\r\n        setRedirect(true);\r\n      })\r\n      .catch(err => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  function acceptInvite() {\r\n    setStatus(\"loading\");\r\n    globalApiInstance\r\n      .post(process.env.REACT_APP_BASE_API + \"courses/getCourseWithAccess\", {\r\n        course: invite.courseId,\r\n        user: user\r\n      })\r\n      .then(res => {\r\n        if (res.data.data) {\r\n          setStatus(\"error\");\r\n          setMessage(\"You already have access to this course\");\r\n        } else {\r\n          giveAccess();\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setStatus(\"error\");\r\n        setMessage(err.message);\r\n      });\r\n    return 0;\r\n  }\r\n\r\n  if (redirect) return <Redirect push to=\"/courses\" />;\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      {invite ? (\r\n        <div>\r\n          Invitation to course <b>{invite.courseName}</b>\r\n          <EmptyLine level=\"1\" />\r\n          <Button\r\n            className={\"btn btn-info\"}\r\n            style={{ width: \"200px\" }}\r\n            type=\"button\"\r\n            onClick={acceptInvite}\r\n          >\r\n            <b>Accept Invitation</b>\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <b>This invitation is either invalid or no longer active</b>\r\n      )}\r\n      <EmptyLine level=\"1\" />\r\n      <ServerStatus status={status} message={message} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { useAuth } from \"../../utils/auth\";\r\n\r\nimport { Heading } from \"../atoms/Heading\";\r\nimport { EmptyLine } from \"../atoms/EmptyLine\";\r\nimport { ErrorMessage } from \"../molecules/ErrorMessage\";\r\nimport { SignInForm } from \"../templates/SignInForm\";\r\nimport { Invitation } from \"../templates/Invitation\";\r\n\r\nexport function InvitesPage(props) {\r\n  const auth = useAuth();\r\n\r\n  return auth.token ? (\r\n    <div align=\"center\">\r\n      <Heading level=\"1\">INVITATION LINK</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <Invitation user={auth.token} link={props.match.params.link} />\r\n    </div>\r\n  ) : (\r\n    <div align=\"center\">\r\n      <EmptyLine level=\"1\" />\r\n      <ErrorMessage error={\"You must be signed in to proceed\"} />\r\n      <Heading level=\"1\">Sign in</Heading>\r\n      <EmptyLine level=\"1\" />\r\n      <SignInForm />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport { PublicRoute } from \"./components/organisms/PublicRoute\";\r\nimport { PrivateRoute } from \"./components/organisms/PrivateRoute\";\r\nimport { PageWrapper } from \"./components/organisms/PageWrapper\";\r\nimport { HomePage } from \"./components/pages/HomePage\";\r\nimport { SignInPage } from \"./components/pages/SignInPage\";\r\nimport { RegisterPage } from \"./components/pages/RegisterPage\";\r\nimport { ProfilePage } from \"./components/pages/ProfilePage\";\r\nimport { CoursesPage } from \"./components/pages/CoursesPage\";\r\nimport { ModulesPage } from \"./components/pages/ModulesPage\";\r\nimport { CoursePage } from \"./components/pages/CoursePage\";\r\nimport { SectionPage } from \"./components/pages/SectionPage\";\r\nimport { ModulePage } from \"./components/pages/ModulePage\";\r\nimport { CourseAddingPage } from \"./components/pages/CourseAddingPage\";\r\nimport { ModuleAddingPage } from \"./components/pages/ModuleAddingPage\";\r\nimport { CourseEditingPage } from \"./components/pages/CourseEditingPage\";\r\nimport { ModuleEditingPage } from \"./components/pages/ModuleEditingPage\";\r\nimport { MyCoursesPage } from \"./components/pages/MyCoursesPage\";\r\nimport { MyModulesPage } from \"./components/pages/MyModulesPage\";\r\nimport { InvitesPage } from \"./components/pages/InvitesPage\";\r\n\r\nexport const AppRoutes = () => (\r\n  <PageWrapper>\r\n    <Switch>\r\n      <PublicRoute path=\"/sign-in\" exact component={SignInPage} />\r\n      <PublicRoute path=\"/register\" exact component={RegisterPage} />\r\n      <Route path=\"/invites/:link\" exact component={InvitesPage} />\r\n      <Switch>\r\n        <PrivateRoute path=\"/profile\" exact component={ProfilePage} />\r\n        <PrivateRoute path=\"/courses\" exact component={CoursesPage} />\r\n        <PrivateRoute path=\"/modules\" exact component={ModulesPage} />\r\n        <PrivateRoute path=\"/my-courses\" exact component={MyCoursesPage} />\r\n        <PrivateRoute path=\"/my-modules\" exact component={MyModulesPage} />\r\n        <PrivateRoute path=\"/add-course\" exact component={CourseAddingPage} />\r\n        <PrivateRoute path=\"/add-module\" exact component={ModuleAddingPage} />\r\n        <PrivateRoute\r\n          path=\"/enter-course/:course\"\r\n          exact\r\n          component={CoursePage}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/enter-course/:course/:section\"\r\n          exact\r\n          component={SectionPage}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/enter-module/:module\"\r\n          exact\r\n          component={ModulePage}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/edit-course/:course\"\r\n          exact\r\n          component={CourseEditingPage}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/edit-module/:module\"\r\n          exact\r\n          component={ModuleEditingPage}\r\n        />\r\n        <PrivateRoute path=\"*\" component={HomePage} />\r\n      </Switch>\r\n    </Switch>\r\n  </PageWrapper>\r\n);\r\n","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction ScrollToTopBase({ children, location: { pathname } }) {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return children || null;\r\n}\r\n\r\nexport const ScrollToTop = withRouter(ScrollToTopBase);\r\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { ApiProvider } from \"./utils/api\";\nimport { AuthProvider } from \"./utils/auth\";\nimport { AppRoutes } from \"./AppRoutes\";\nimport { ScrollToTop } from \"./components/atoms/ScrollToTop\";\n\nrequire(\"dotenv\").config();\n\nexport function App() {\n  return (\n    <AuthProvider>\n      <ApiProvider>\n        <BrowserRouter>\n          <ScrollToTop />\n          <AppRoutes />\n        </BrowserRouter>\n      </ApiProvider>\n    </AuthProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { App } from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAe1BMVEX///8AAAD8/Pz09PT39/diYmLz8/Pv7+/q6uqSkpLk5ORycnIeHh59fX2wsLCXl5cwMDBXV1e4uLjBwcFJSUnY2NiGhobJycknJyfS0tIXFxdfX19nZ2empqaDg4OgoKA2NjY/Pz8hISEPDw9GRkZ2dnY0NDRYWFhtbW1stSvNAAALp0lEQVR4nN2djYKiOg+GBREQFREFxH8GZ/X+r/DT2T1nZzRJ2zQFzvdegPBImyZpmo4892p3823WrA6fi/K0mN0P+9vm2mTZ9mO+a90/feTyx3e/rg+uaVoV0ehNfpgUVb5cTFbN1iWoM8Ltalae10nov7O9kEZFfj4dGleUTgjbzeK4LgIV23dFVTq9X1y8jDxhO1muoVGplB/X6UkeUpqwORax0cf7qTCpy7nsG4kStotaPe9UCuJ8JflScoTtJrf4eD+VTDOx95IizA6VFN6X/PNmJ/NmMoRNKcv3VHScfEi8mwThr7IW5/tiTCcCbydAWFZi8+9VSXrtn3BVh674HvKTpa2vY0nYHjlruxFjve+T8J445nsqOFv5ADaE17wDvqcKG4tjQTgrOgJ8fMYlf+FgE2ZTa//MROmma8LVulPA0aiedUvY4Qj9R/GUt27wCD9drxGQgjMLkUW4cObE0Eo5iBzCaT98D1WMeINBeOoNcDRam8eN5oRlx0b0BdE4kWNMuHDpaGso3zom/Iz7BRwFR0P3xpBw0oWrrUCcuiS8dr/Qvys4uCP8JZ+N4Sgy8lGNCNO+2f6oMAkYTQjLvsn+1dEN4b7ndeKb/E8XhNkQrMw/SvRzcPqEQ5mEv5XLE977Xup/KlxIEw5kofirQnec6hKe+yZ6k248rEm46t9be1WsmSnWI9wd++YBlOqt+3qEqz7yMiqN9T6iHmFXyW0zreUIL32zINIyp1qEw/yEo1ElRXjpmwRVI0Q4LH/tu3R8Nw3CbIiG9LeiRoRw2Wv6kJSvESiqCXduCi1kpBHtqwlnwx2kWiGGmnC4duYpta1REsolEP1gPA6fGo+DIBCa3IWyyk9JWIrspIVJnZb3VXPJttml2dzu5TmvisQ+86POD6sIW4FBGhTpqYF+u1mkte0sz1VJfhXh1dqSxnlJ+I+Xz9Qu9ExuloSzsR1feJyoDPptaTXVVdZURWi535uvdMLU69JirB4V+8IKwmxtwxd+6m68N/zpXjRWhBubHKLRljQ7ExQoQn0F4Z3PNzbdyqyYS+TJinDJBowMNzIfSnlLb05PBZpwx84Dh6UxoDc/shBjemefJtxyfStfO+n+43Ep63mNBeGVCThifMGnMtaYuVsQfjIBj9zi7CvHotJhME3ITLJVv5iAnndijNPEgpC3RunuKIDijFMLQlZ04y8tAL2G8UTSmJKEOw7gqG5sCDkfkQwvSEKWKSVWwvlmtlgsZivS2bmZP5J0LkjCGYcQTX8d0iKJoyiKkyInDPzcfPKTyRqSkOOz+cgfuqm+H74cV3hdk/lTyf0LkpAT0sRwuDZ7NVoxekpkb/xMcrkgCTmWOwV/6fC+zAVYlqwxDvnHlINBEnKWQ/C9t1AMXyDvtTX2M4KGS8hYDkPwh+AyAMTotsYTER0OSkJGFgrceb7AUVGMPNa4VD6gTn5RhFtGuAYG3FgxDuLdfZr6pgEVXVCEDYMQXAQw04GUGsxMn0tGoxThxpwwgFzEDZYrRKz83ZiQStVQhDdzwgJaDU/YfE7gtfNgmj31qYCbIpyYE4LHdo7YvIrhdKP5N+QSGj8JOXuFZpVj2IWdmVoazFNUEho/aTQ6Az/Tops7yDxcmD6VjEgpQmOrDccxePk04jEb75V0SQhNiA3q/MFG/sPY4e+bcI/tfQSwY2ruebMJGZbG9/3gofGfHfvoGfCivh/yXjfjP5ZtaRiEJiqQx5pvWbJXi4NTwhgJCHbmMRubcOWSMMbO10/Mf4vttTH8Um3FCywuZyQW2J43EtZJCAdkfEL6GBRFmDkjHOOvxKnLCKiOEhThzrLSBJWPvxGrYoE8VSqdp9F6ITwkRwMt+gfZeRo3B2XGuF1g9iwKqGOzJKGT2lmihIHblImfTbQqF0IU4k1YPtklNVSjBZLQwWknoq0Vv/QLzA5pEcofbfbxKjReHcaXkCBFg9B8j0QldB8ss5nzEQVBEmZiZH+EbYO1M6szuPy9p1aK7I+w6qXt0m7lrdmE0ks+4qtdc8uydvKYnotqE0xIid3EetklS4ZoQtEFMYJLJk72fyNZREcT8osvAcELheUU/BJ55oImtCigfVMI+ttniQiNrCXvbpTmwHvsZI4ckS15yB1SydOxYMZPqG/YmBkfZqLHf6EDSlZ18t8VE4g4IbNgF9MasDNyx+IKvBwSJWyXolka6LTnRvAvrNEgGCW8yx6sDIGUpugsSLEICiO8CHdrgapqRWcBmt3CCKX7WxbvG9qi7sTjP0QCfYRQPN1dvxsa6b5TiHeKEIr3iXiPDFvxE9SwsYEJL9IPBwgb8WwsHETBhPIpqPenT8Qz6gF4VhUklB9Ao2o1+akbWmXDF5gFAgkdNAr2w/FPhQ62fUBzChIOr+2VngKoMgAiHGRXKC1BuTyIUCQq7UUJEMBAhC62K7rRGAhCAcLLkJpcGgo4KQAQDqAbMlvVu/sLEJbD6cRqLCCTABAOsYOgrsL3tDpAONTubFp6NzXvhLv/e8Ltf3exGOkR8k6MD0U6hNIZmu/yk3We1y5Xo34J/eP+mm23l+vd3UTQIXTWE3n9N0BtD66+Y4+W5iWy+XBksftbLYLXkxiOEHUI3TTZe9/hdtPFXovw7KDXZQxk+g7yj4GOQwCEJwchPnj+2UFhYPy+0QwQuuhO3kCErIYGtICOFQChg4al8IlfdgcjXEBBC5TFkM9kItVe4oNlDBy8gAj34hMR2TQR9y0KwKCB+VJxOw4dS3RBCCW9QULxulKk6FL6nwyhXVJ430J6gsCHuHbSCSGwRhHee+L2+MLkg1VLG+GnjMCNbmSHVHr8gIfLpFNecJkptsst/PAYKLycSy9KjQlhK3yvjA+4bdJRmtk+vnikH5YvX7GVvjG5QApq0Ioh6dx+XP6oxthOhQ0pXNxJEXrSrxB9v3h6lQvv4vvoSRWccC7tnvpJevs9VPeWHa4B4R19ierLnXjCxo+Soq6LJBJ37Yl2yeK9vnoRdi5cSejmeJ68KEAFYcvtz9ypoCSQLqGX5cOvWkioTl/qrvPZeeilJzUNqL7fYr4Y1tWOr1qrrs7VuCtoNeDaDP+o7Gyvc6PVbnjXO/5RpHGnrA7hM4U6RJvqa12ep0fo7abF0BiDguoVYUz4CKfOg5qOfj2l2+mbEz7i/vNgvqNfTRvd1zYgfMY8faP9VlJq8xkSOu6rpKsxfVWAFWEziGgjVdydY0Mofc6FJz0byiQcQmVmrX+vOoNwCEVvyDaPEKG36D3UoM6LShBadegQkfIqOUtCJ5UaJooU1zvZE2Y9h4u13n3jFoQ9LxiB8S1E5oT9nhkiG7VIERo3hReUb+SwcQn7/Ih6F8ZbE0rvgevLb7oh7M+xMXRn2ITeracVo+DcBcYi7GvFMDczbEK760m5OrPuq+MRevse7Klh1GRJ6JWuureiQlsrOyLs/Mp19QXc0oRuCtFxQW2m3BKybqHhC6uWcUnooDMmITagDaH5nT5s+Ra3YtoQihduYTIPCoUIvS3vimJjwLNRCliS8IHYwVcMjvxJaE3obd0vi5aAtoSMS2FMZXpFuzShc+cGb//dGaHn0qLybjCXJvQWztpMAEfRjCVByG8XT8sn+j3qS4TQ27vYOQ1yXkD4IhlCr5FvFxLpFlsoJETo7Xh3b+ASGaFPSRF63k00YMw5aTVQcoTeXK6DFjdjAUmQ8GFwapGlMUyVBYcGEiX0Po7264Zf26/y3yVL6HmrteXyn1g62m+SJvTmC5vq9yg1rENQS5zQ8y4nrlUN8js3o4bLAeGDsWRt3VQH4QH6JSeEnteat54obrZxEixHhA8tCoPlMazIGxxs5I7Q8+5rvfLwcZKqjhRYyCXhY+04VqoZ6SfrqZiHBsktoedtZ8eKmJLxejlxM/3+lWvChy73MoeGq18cy4kL6/lTHRA+tN1MHpQ/6NLTvpFf/AB1Q/hU+5FtZqfyodP9ms0dj82/+h/N97qzABKFCwAAAABJRU5ErkJggg==\""],"sourceRoot":""}